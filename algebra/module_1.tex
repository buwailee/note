\chapter{模（一）}
假设下面出现的环都是交换环，所以我们不区分左右模。
\section{直和、直积与Hom函子}

直积和直和都属于用一些小的模来构造出大的模的手段。

\para 设$\{M_i\,:\, i\in I\}$是一族$R$-模，则存在一个$R$-模$M$以及一族同态$\pi_i:M\to M_i$使得，如果存在另一个模$N$和一族同态$\rho_i:N\to M_i$，那么就唯一存在同态$\rho:N\to M$使得分解$\rho_i:N\xrightarrow{\rho} M \xrightarrow{\pi_i} M_i$成立对任意的$i\in I$都成立。这样的一个模$M$被称为$\{M_i\,:\, i\in I\}$的直积，而$\pi_i$被称为典范投影，通常将$M$记作$\prod_{i\in I}M_i$. 直积对应于范畴里product的概念。

存在性的证明是简单的，考虑$\{M_i\,:\, i\in I\}$作为集合的直积，很容易检验它有一个$R$-模结构，且投影是同态。更详细的检查这里就略去了。

其他满足这个性质的模及同态，都可以唯一分解到这个典型的模和同态（这里是直积和投影）的性质，被称为泛性质。

\para 设$\{M_i\,:\, i\in I\}$是一族$R$-模，则存在一个$R$-模$M$以及一族同态$\pi_i:M_i\to M$使得，如果存在另一个模$N$和一族同态$\rho_i:M_i\to N$，那么就唯一存在同态$\rho:M\to N$使得分解$\rho_i:M_i\xrightarrow{\pi_i} M \xrightarrow{\rho} N$成立对任意的$i\in I$都成立。这样的一个模$M$被称为$\{M_i\,:\, i\in I\}$的直和，而$\pi_i$被称为典范内射，通常将$M$记作$\bigoplus_{i\in I}M_i$. 直和对应于范畴里coproduct的概念。

直和存在性的构造并不如同直积那么容易。我们考虑$\{M_i\,:\, i\in I\}$的形式和$M$，即
\[
	M=\left\{\sum_{i\in I} a_i m_i\,:\, m_i\in M_i\right\},
\]
其中的求和只有有限项，或者说系数$a_i$只有有限项非零。可以看到这是一个模。定义$\pi_i:M_i\to M$为$\pi_i(m_i)=m_i$，可以检验这是一个模同态。

现在任取$N$和一族同态$\rho_i:M_i\to N$，我们将其扩展为$\rho_i:M\to N$通过补充定义$\rho_i(m)=0$，如果$m\notin M_i$. 随后我们定义$\rho = \sum_{i\in I} \rho_i$，需要检验这个求和对任意的$m\in M$是有限的。为此，任取$m\in M$，由于他可以分解成$m=\sum_i a_i m_i$，所以
\[
	\rho(m)=\sum_i a_i \rho_i(m_i),
\]
求和是有限求和因为$a_i$只有有限项非零。有了构造，泛性质的检验就是直接的了。

注意到交换群为$\zz$-模，所以我们也证明了交换群有直和与直积。

\para 如果满足泛性质，则他在同构意义上唯一。

以直积为例，如果$(M,\pi_i)$和$(M',\pi'_i)$都满足泛性质，则利用$M$的泛性质，我们有唯一的同态$\rho:M'\to M$，利用$M'$的泛性质，我们有唯一的同态$\rho':M\to M'$. 之后检验$\rho$和$\rho'$互逆即可。下面我们讨论张量积的时候还会对此做演示。

\theo 在左$R$-模范畴，任意的极限与余极限存在。 \rule{2mm}{2mm}

\para 如果$M$和$N$都是双边$R$-模（比如我们一直讨论的交换环的情况），则

\section{自由模与矢量空间}

\para 设$I$是一个指标集，我们定义$R^I=\bigoplus_{i\in I}R$，他被称为自由模。如果$I$是有限集，$n=|I|$，则我们通常将自由模$R^I$记作$R^n$. 记$1_i$为第$i$个指标的$R$中的$1$.

\para 设$M$是一个$R$-模，$S$是他的一个子集，称呼$M$被$S$生成，就是说$M$中的元素可以写成$S$中元素的有限线性组合。即任取$m\in M$，存在一个系数集$\{a_s\in R\,:\, s\in S\}$，其中只有有限个系数非零，使得
\[
	m=\sum_{s\in S}a_s s.
\]
称呼一个$R$-模$M$是有限生成的，就是说存在一个$M$的有限子集生成他。

显然$R^I$由$\{1_i\,:\,i\in I\}$生成，其中$1_i$代表的是第$i$个指标的$R$中的$1$，所以$R^n$是有限生成模。

\para 域上的自由模是矢量空间。

\section{链条件}

\para 设$P$是一个偏序集，如果他的任意非空子集都有极大元，则$P$称为满足极大条件。对偶地，还有极小条件。

极大条件的一个有趣应用是Noether归纳原理：设$\mathcal{P}$是关于$P$中元素的一个命题，如果对固定的$a$，任意的$\mathcal{P}(x)$对任意的$x>a$成立可以推出$\mathcal{P}(a)$成立，则$\mathcal{P}$对所有$x\in P$都成立。

证明是简单的，假设$\mathcal{P}$至少对某个元素不成立，则所有使得$\mathcal{P}$不成立的元素的集合非空，由极大条件，这个集合中存在极大元$a$使得$\mathcal{P}(a)$不成立。任取$x>a$，由于$a$的极大性，$\mathcal{P}(x)$都成立，再由条件，可知$\mathcal{P}(a)$成立，矛盾。

\para 设$P$是一个偏序集，他的全序子集被称为一个链。如果给定一条链$S$，存在一个元素$a$，使得所有$S$中所有满足$a\leq x\in S$都成立$x=a$，则该链被称为是（向上）稳定的，简写成a.c.c. 类似的，还有（向下）稳定的，简写成d.c.c.

\pro 极大条件等价于所有链都是a.c.c.

\proof
	如果$P$满足极大条件，则任取一条链$S$，他都有极大元$a$，任意的$a\leq x\in S$都可以推出$x=a$. 反过来，如果$P$不满足极大条件，则存在$S\subset P$中没有极大元。则给定一个$x_0\in S$，可以找到一个$x_1\in S$满足$x_1>x_0$，再对$x_1$可以找到$x_2>x_2$，如是进行下去，我们就找到了一条不稳定的链。
\qed

可见极大条件和a.c.c.是等价的，在应用中极大条件往往比较方便，而在证明/证伪Noether性的时候，构造一个具体的升链就比较简单。

\para 一个$R$-模$M$，如果他的子模集满足极大条件，则他称为Noether模，如果满足极小条件，则他称为Artin模。环$R$看成$R$-模时，如果他是Noether(Artin)模，则他称为Noether(Artin)环。

Noether模远比Artin模应用广泛，比如我们后面会断言Artin环一定是一个Noether环，反之不然。Noether性是有限性条件之一，下面一个命题展现了这一点。

\pro 一个模是Noether模当且仅当它的任意子模是有限生成的。

\theo Hilbert基定理：如果$R$是一个Noether环，则$R[x]$也是一个Noether环。

\para 下面的观察来自于Noether，他与拓扑上的不可约性对应。设$M$是一个Noether模，而$N$是它的一个子模，如果$N$不能写成两个$M$的子模$P$和$Q$的交，其中$N$是$P$和$Q$的真子模，则称$N$是一个不可约子模。

\pro \label{irrde}设$M$是一个Noether模，则每一个$M$的真子模都可以写成$M$的有限个不可约子模的交的形式，这被称为不可约分解。

\proof
	假设命题不对，考虑所有不能写成有限个不可约子模的交的那些真子模构成的集合，它按包含关系构成一个偏序集。由于这个集合非空，而且$M$是一个Noether模，所以存在极大元$N$。由于$N$是可约的，所以可以写成$P\cap Q$的形式。由于$P$和$Q$都严格比$N$大，所以它们可以写成有限个不可约子模的交，进而$N$可以写成有限个不可约子模的交。矛盾。
\qed

\section{有限生成模与自由模}

\para 一个$R$-模$M$是有限生成的当且仅当存在某个正整数$n$使得$M$是$R^n$的商模，或者用正合列写作
\[
	R^n \xrightarrow{\pi} M\to 0.
\]
考虑$M$的一组有限的生成元$\{m_i\,:\, 1\leq i\leq n\}$，他们生成了一个$R$模，满射通过将$\pi:1_i\mapsto m_i$来线性线性扩张得到，即定义
\[
	\pi\left(\sum_i r_i 1_i\right)=\sum_i r_i m_i.
\]
反过来，如果$M$可以写成某个$R^n$的商模，他自然被$\pi(1_i)$生成。

\pro Noether环上的有限生成模是Noether模。

\para 从自由模模去一些关系是构造一些模的常用手段。比如我们希望构造一个由所有满足$(a,b)=(b,a)$的$(a,b)$构成的一个模，那么最方便的方式就是从$R^2$出发，模去所有$(a,b)-(b,a)$生成的子模。后者被称为一个关系。

自由模模去一个关系得到一个模这个过程，抽象来说，就是存在正合列
\[
	R^I\to R^J \to M\to 0.
\]
这被称为模$M$的free presentation，如果$I$和$J$都是有限的，则$M$被称为finitely presented.

finitely presented模一定是有限生成模，但一般而言，有限生成模不是finitely presented，比如取一个非Noether环$R$以及它的一个非有限生成理想$I$使得$R/I$是一个有限生成模，那么有短正合列$0\to I\to R \to R/I\to 0$，此处由于$I$不是有限生成的，所以$R/I$就不是finitely presented.

但是到了Noether环上的模就不会如此，考虑任意的有限生成模$M$，他可以写成$R^n$的商模，即有短正合列$0\to N \hookrightarrow R^n \to M\to 0$，由于$N$是$R^n$的子模，而$R^n$是$R$上的有限生成模，所以$R^n$是Noether模，继而推知$N$是有限生成的，所以存在满同态$R^m\to N$，这样我们就得到了正合列$R^m\to R^n\to M\to 0$.

\theo Hamiltion-Cayley定理：设$M$是一个有限生成$R$-模，他能被$n$个元素生成. 再设$\mathfrak{a}$是$R$的一个理想，$\varphi:M\to M$是一个自同态。如果$\varphi(M)\subset \mathfrak{a}M$，则存在首一多项式
\[
	p(x)=x^n+p_1x^{n-1}+\cdots+p_n,
\]
其中$p_i\in I$，使得$p(\varphi)=\varphi^n+p_1\varphi^{n-1}+\cdots+p_n$是一个零映射，即任取$m\in M$，有$p(\varphi)(m)=0$. 一般写作$p(\varphi)=0$.

\proof
	设$\{m_1,\cdots,m_n\}$是$M$的生成元。考虑$\varphi(m_i)\in M$，因为$M$是有限生成的，所以
	\[
	\varphi(m_i)=\sum_{j}r_{ij}m_j,
	\]
	其中$r_{ij}\in I$. 将其写作$\sum_{j}(\delta_{ij}\varphi-r_{ij})m_i=0$，其中$\delta_{ij}$当$i=j$的时候为$1$，其他时候为$0$.

	将$M$看作$R[x]$-模，其中$xm=\varphi(m)$，则$\sum_{j}(\delta_{ij}x-r_{ij})m_i=0$. 左乘$x\delta_{ij}-r_{
	ij}$的伴随矩阵，就得到了
	\[
	\det\left(x\delta_{ij}-r_{ij}\right)m_i=0,
	\]
	对任意的$m_i$都成立。所以也对任意的$m\in M$都成立，而$\det(x\delta_{ij}-\sum_{j}r_{ij})$就是我们需要的多项式。
\qed

\para 作为Hamiltion-Cayley定理的应用，我们可以断言，有限生成模的任意满自同态是同构。

\proof
	把$M$看出$R[x]$-模，其中$xm=\varphi(m)$，他是有限生成的，因为作为$R$-模是有限生成的。令$I=(x)$是$x$在$R[x]$中生成的主理想。由于$\varphi$是满射，则$IM=M$. 选则映射$\id_M=1:M\to M$，这显然是一个$R[x]$-模同态，由于$\id_M(M)\subset IM$，利用Hamiltion-Cayley定理，存在一个多项式$p$，系数属于$I$使得
	\[
	p(1)m=\left(1^n+xf_1(x)1^{n-1}+\cdots+xf_n(x)\right)m=(1-xq(x))m=0,
	\]
	其中$q\in R[x]$. 或者写作，$1-q(\varphi)\varphi=0$. 因此$q(\varphi)$是$\varphi$的一个逆，进而$\varphi$是一个同构。
\qed

\para 将上述命题应用到自由模。设$M\cong R^n$，而$I=\{x_1$, $\cdots$, $x_n\}$自由生成了$M$（即$\{x_1$, $\cdots$, $x_n\}$的非零$R$-系数线性组合都不为零），则$M$同构于$I=\{x_1$, $\cdots$, $x_n\}$生成的自由模$\bigoplus_{x\in I} R$.

\proof
	$\bigoplus_{x\in I} R$自然可以看成$R^n$，从$\bigoplus_{x\in I} R=R^n$到$M$有自然的满射$\alpha$，他将生成元映到生成元，由于$M\cong R^n$，所以有同构$\beta:M\to R^n$，因此就有了满同态$\alpha\beta:M\to M$，进而是同构。所以$\alpha =(\alpha\beta)\beta^{-1}$就是一个同构。
\qed

利用上面这个命题，可以证明当$m\neq n$时$R^m\not\cong R^n$. 设$m<n$，反证即可，如果$R^m\cong R^n$，则在$R^m$中可以取$n$个自由生成元，但这$n$个自由生成元都由$R^m$的自由生成元生成，所以他们不是自由的，矛盾。

\section{张量积}

\para 张量抽象了多线性函数，尤其是双线性函数。设$A$是右$R$-模，$B$是左$R$-模，那么我们称$f:A\times B\to G$，其中$G$是一个交换群，为一个双线性函数，如果他满足
\[
	f(a+b,a')=f(a,a')+f(b,a'),\quad f(a,a'+b')=f(a,a')+f(a,b'),
\]
以及对$r\in R$满足$f(ar,b)=f(a,rb)$.

特别地，如果我们存在一个双线性函数$\varphi$，以及一个交换群$G$，使得每一个$A\times B$上的双线性函数$f:A\times B\to H$都可以唯一分解为
\[
	f:A\times B\xrightarrow{\varphi} G\xrightarrow{h_f}H,
\]
其中$h_f$对每一个双线性函数$f$存在且唯一，则称呼$G$为$A$与$B$的张量积，记做$A\otimes_R B$，而$\varphi(a,b)$记做$a\otimes_R b$，如果下标$R$不重要，那么我们可以省略他。

如果$G$也有$R$-模结构，那么同态就是$R$-模同态。

\lem 在模范畴内，张量积存在。而且由上面的泛性质，他确定到一个同构。

\proof 对于唯一性，我们考虑两个张量积$(G,\varphi)$和$(G',\varphi')$，那么根据张量积的性质，有分解
\[
	\varphi:A\times B\xrightarrow{\varphi'} G'\xrightarrow{h_{\varphi}}G,\quad \varphi':A\times B\xrightarrow{\varphi} G\xrightarrow{h_{\varphi'}}G',
\]
所以只要验证$h_\varphi\circ h_{\varphi'}=\id_{G}$和$h_{\varphi'}\circ h_{\varphi}=\id_{G'}$就好了，这样我们就得到了$G$和$G'$之间的同构。而上述等式来自于分解的唯一性，显然，我们有分解
\[
	A\times B\xrightarrow{\varphi'} G'\xrightarrow{h_{\varphi}}G\xrightarrow{h_{\varphi'}}G',\quad A\times B\xrightarrow{\varphi'} G'\xrightarrow{\id_{G'}}G',
\]
显然，所以由唯一性得到了$h_{\varphi'}\circ h_{\varphi}=\id_{G'}$，同理有另一个等式。

对于存在性，我们可以直接构造，首先，我们知道在交换群范畴（作为$\zz$-模）有直和存在，那么我们可以构造自由交换群
\[
	F=\bigoplus_{(a,b)\in A\times B} \zz=\sum_{(a,b)\in A\times B}n_{(a,b)}1_{a,b}.
\]
这是一个形式和，系数只有有限项非零，其中$1_{a,b}$是对应指标$(a,b)$的那个$\zz$中的$1$。我们令$H$是由
\[
	1_{a,b}+1_{a',b}-1_{a+a',b},\quad 1_{a,b}+1_{a,b'}-1_{a,b+b'},\quad 1_{ar,b}-1_{a,rb}
\]
生成的子群，那么我们$A\otimes B$就可以构造为$F/H$，令$\varphi(a,b)=a\otimes b=[1_{a,b}]$，即$1_{a,b}$的陪集。这确实是张量积，具体的检验这里就不进行了。\qed

% 设$R$是交换环，$A$和$B$都是双边模，那么$A\otimes_R B$显然有一个$R$-模结构，比如$r(a\otimes b)$可以定义为$(ra)\otimes b$.特别地，如果交换环$T$是一个$R$-代数\footnote{设$f:R\to T$是一个环同态，那么我们可以通过$r\cdot t=f(r)t$在$T$上定义一个$R$-模结构，此时称$T$是一个$R$-代数。此外，$R$-代数同态是一个环同态，同时也是一个$R$-模同态。}，设$A$是一个$R$-模，则$A\otimes_R T$就是一个$T$-模。这是因为，我们可以通过$t(a\otimes b)=a\otimes (tb)$来定义标量乘法。

\para 有了两个模的张量积，我们自然也可以拓展为三个模的张量积，我们可以通过模仿两个模的张量积的泛性质\footnote{即三线性的函数可以唯一分解。}，定义一个新的三个模之间的张量积$A\otimes B\otimes C$，然后可以检验$(A\otimes B)\otimes C$和$A\otimes (B\otimes C)$同时也满足泛性质，所以他们之间是同构的。在这层意义上，我们可以认为张量积满足结合律，因此我们自然也有了有限个模的张量积。

\para 有同构$A\otimes\bigoplus_i B_i\cong \bigoplus_i (A\otimes B_i)$，$R\otimes A\cong A$以及$(R/I)\otimes B\cong B/IB$，其中$I$是$R$的一个理想。这俩的证明完全是利用泛性质，这里就不说了。

\para 下面讨论张量积在同态下的表现。设$\varphi:M\to M'$和$\psi:N\to N'$是$R$-模同态，则它诱导了一个同态
\[
	\alpha(\varphi,\psi):M\otimes N\to M'\otimes N',
\]
使得复合公式
\[
	\alpha(\varphi'\varphi,\psi'\psi)=\alpha(\varphi',\psi')\alpha(\varphi,\psi)
\]
成立。大家经常将$\alpha(\varphi,\psi)$记作$\varphi\otimes \psi$，两个模同态的张量积的意义后面会阐述，这里看成形式的符号即可。

\proof
	映射
	\[
	\begin{array}{ccc}
		M\times N&\to& M'\otimes N'\\
		(m,n)&\mapsto& \varphi(m)\otimes \psi(n)
	\end{array}
	\]
	显然是双线性的，所以它诱导了映射$M\otimes N\to M'\otimes N'$，而张量积的泛性质中的唯一性给出了复合公式，于是这就是我们想要的$\alpha(\varphi,\psi)$.
\qed

注意到复合公式成立意味着成立交换图
\[
\begin{xy}
	\xymatrix
	{
		M\otimes N\ar[rr]^{\alpha(\id_M,\psi)}\ar[d]_{\alpha(\varphi,\id_{N})}&&M\otimes N'\ar[d]^{\alpha(\varphi,\id_{N'})}\\
		M'\otimes N\ar[rr]^{\alpha(\id_{M'},\psi)}&&M'\otimes N'
	}
\end{xy}
\]
成立。

上面的交换图用范畴论的语言来表述就是，$\otimes N$以及$\otimes \id_N:=\alpha(*,\id_N)$一起构成了一个函子，而同态$N\to N'$将诱导出一个函子间的态射（即自然变换）。这样的同态我们称为自然同态或者函子式同态，描述同态其实就是建立范畴论的初衷，为了抽象出自然变换才定义了范畴等概念。然后到了教科书上，逻辑就反了过来。

\para 上一个命题给出了如下映射：
\[
	\alpha:\Hom(M,M')\times \Hom(N,N')\to \Hom(M\otimes N,M'\otimes N').
\]
由于$\Hom(M,M')$和$\Hom(N,N')$都是$R$-模，并且上述映射是双线性的，所以他自然诱导了一个映射
\[
	\Hom(M,M')\otimes \Hom(N,N')\to \Hom(M\otimes N,M'\otimes N').
\]
这也就是为什么大家将$\alpha(\varphi,\psi)$记作$\varphi\otimes \psi$. 

\para 上面我们已经看到了，$\otimes N$构成一个函子，而实际上，它是右正和函子。

\section{代数与标量扩张}

设有两个环$A$, $B$和一个环同态$f:A\to B$，再设$a\in A$, $b\in B$，我们可以通过$f$定义他们的乘法为$a\cdot b=f(a)b\in B$，这样环$B$就被赋予了一个$A$-模结构。

\para 环$B$若被赋予一个$A$-模结构，则称$B$是一个$A$-代数。

设$B$是$A$-代数，有$f:A\to B$，设$C$也是$A$-代数，有$g:A\to C$，那么$A$-代数之间的同态$h:B\to C$，首先是$B$和$C$之间的环同态，还要和$A$-模结构相容，即$g=h\circ f$.

\para 设$B$是$A$-代数，我们称呼$B$是有限生成$A$-代数，如果存在满同态$A[x_1,\cdots ,x_n]\to B$，这就等价于$B$同构于$A[x_1,\cdots ,x_n]/\mathfrak{a}$，其中$\mathfrak{a}$是$A[x_1,\cdots ,x_n]$的一个理想。一个环称为有限生成的就是指他作为$\zz$-代数是有限生成的。如果$B$作为$A$-模是有限生成的，则称$B$作为$A$-代数是有限的。

复化是所谓的标量扩充或者base change的特例，所以我们直接来谈模（交换环上的双边模）的标量扩充。

\para 关于模的张量基，可以参看附录。如果$M$是$R$-模，$S$是$R$-代数，那么$M_S=S\otimes_R M$就是一个$S$-模，通过$s(t\otimes a)=(st)\otimes a$，我们称这个$S$-模$M_S$为$M$经过标量扩充而来的。

\lem 有以下同构：

\no{1} $M_S\otimes_S N_S\cong (M\otimes_R N)_S$.

\no{2} 设$N$是一个$S$-模，有同构$\Hom_R(M,N)\cong \Hom_S(M_S,N)$

\proof 第一个同构。实际上，$(s_1\otimes_R a,s_2\otimes_R b)\mapsto s_1s_2\otimes_R(a\otimes_R b)$是一个双线性映射，所以他唯一诱导了$\varphi:M_S\otimes_S N_S\to (M\otimes_R N)_S$.

反过来，映射$(s,a\otimes_R b)\mapsto (s\otimes_R a)\otimes_S (1\otimes_R b)=(1\otimes_R a)\otimes_S (s\otimes_R b)$也是一个双线性映射，所以他唯一诱导了$\psi:(M\otimes_R N)_S\to M_S\otimes_S N_S$.容易验证他们互逆。

第二个同构。设$\phi\in \Hom_R(M,N)$，我们可以通过$\Phi(s\otimes a)=s\phi(a)$定义$\Phi\in \Hom_S(M_S,N)$，反过来，已知$\Phi\in \Hom_S(M_S,N)$，我们可以通过$\phi(a)=\Phi(1\otimes a)$来定义$\phi\in \Hom_R(M,N)$.不难检验，这是一个同构。 \qed

对有限个$\{M_i\}_{i\in I}$，那么反复利用\no{1}我们就得到了同构
\[
\bigotimes_{i\in I} \left(S\otimes_RM_i\right)\cong S\otimes_R\bigotimes_{i\in I} M_i.
\]

\para 举个例子，设$V$是一个$\rr$上的$n$维矢量空间，那么$V\cong \rr\oplus \cdots \oplus \rr$，所以$V_{\cc}\cong \rr_{\cc}\oplus \cdots \oplus \rr_{\cc}$，由于$\rr_{\cc}=\cc\otimes \rr=\cc$，所以$V_{\cc}\cong \cc\oplus \cdots \oplus \cc$，因此$V_{\cc}$这就被称为$V$的复化，同时因为$v\mapsto 1\otimes v$是单射，所以可以把$V$看成$V_\cc$的实的子空间，即$1\otimes V=V$.

\para 复化扩张是指将实矢量空间扩张到复矢量空间，这在有些地方是有用的，比如实Lie代数到复Lie代数的扩张。关于复化扩张，我们有下面三个小命题：

\no{1}设$V$是一个实矢量空间，$W$是一个复矢量空间，$f:V\to W$是实线性映射，则他可以唯一扩张为一个复线性映射$V_\cc\to W$.

\no{2}设$V$和$W$都是实矢量空间，$f:V\to W$是实线性映射，则他可以唯一扩张为一个复线性映射$V_\cc\to W_\cc$.

\no{3}设$V$和$W$都是实矢量空间，$f:V\times\cdots\times V\to W$是实多线性映射，则他可以唯一扩张为一个复多线性映射$V_\cc\times\cdots\times V_\cc\to W_\cc$.

\proof 
	因为$\Hom_\rr(V,W)\cong \Hom_\cc(V_\cc,W)$，所以\no{1}得证。对于\no{2}，我们有$i:W\hookrightarrow W_\cc$，那么$i\circ f:V\to W_\cc$就满足\no{1}题设，由\no{1}自然得证。对于\no{3}，因为多线性映射他可以唯一分解出一个$V^k\to W$，然后由\no{2}，可以唯一扩张为$(V^k)_\cc\to W_\cc$，因为$(V^k)_\cc=V_\cc\otimes_\cc \cdots\otimes_\cc V_\cc$，引理得证。
\qed

注意到，零映射扩张成的映射依然是零映射，这可以用来给出一些等式。比如在实Lie代数$V$中有Jacobi恒等式$B(u,v,w)=0$对任意的$u$, $v$, $w\in V$成立，其中$B$是一个多线性映射，所以经过复化后依然有$B_\cc (u,v,w)=0$对任意的$u$, $v$, $w\in V_\cc$成立。

\para 注意到$M$和$N$如果都是$R$-模，则$\Hom_R(M,N)$也可以看成一个$R$-模，通过定义$(rf)(m)=rf(m)$. 这样我们自然可以问$\Hom_R(M,N)$关于标量扩张的表现。

设$S$是一个$R$-代数，那么存在一个自然的$S$-模同态
\[
	\alpha:S\otimes\Hom_R(M,N)\to \Hom_S(S\otimes M,S\otimes N).
\]
由于$\alpha$是$S$-模同态，所以只要考察$\alpha(1\otimes \varphi)$即可，其中$\varphi\in \Hom_R(M,N)$. 所谓自然，就是说满足交换图
\[
\begin{xy}
	\xymatrix
	{
		S\otimes\Hom_R(M,N)\ar[rr]^{\alpha_S}\ar[d]&&\Hom_S(S\otimes M,S\otimes N)\ar[d]\\
		T\otimes\Hom_R(M,N)\ar[rr]^{\alpha_T}&&\Hom_T(T\otimes M,T\otimes N)
	}
\end{xy}
\]
如果$S$是一个平坦$R$-模且$M$具有有限表示，则$\alpha$还是一个同构。

\section{局部化}

我觉得这个看上去有些奇怪的条件在最“自由”地补充进所有可能的分式的时候会自然产生。

首先注意到$k[x]_x=k[x,1/x]=k[x,y]/\langle xy-1\rangle$，这个在几何上就是说$k-\{0\}$和$xy=1$这条曲线同构。考虑$S$是$R$的任意子集，我们可以类比定义一个环$T$
\[
T=R\bigl[\{x_s\,:\, s\in S\}\bigr]/\bigl\langle\{sx_s-1\,:\, s\in S\}\bigr\rangle.
\]
这样$ax_s$大概就对应$a/s$. 这个环的加法就是
\[
ax_{b}+cx_d\equiv a(dx_d)x_{b}+c(bx_{b})x_d\equiv (ad+bc)x_bx_d,
\]
乘法就是
\[
(ax_{b})(cx_d)\equiv acx_bx_d.
\]
并且从
\[
bd(ax_{b}-cx_d)\equiv ad-bc
\]
可知$ax_{b}\equiv cx_d$当且仅当$ad-bc\equiv 0$. 因此，如果$s,\,t,\,st\in S$，则消去律$sx_{st}\equiv x_t$顺道也是成立的。利用消去率，我们有$x_{st}\equiv sx_s x_{st}\equiv  x_s x_t$.

观察我们上面构造的分式乘法。由于我们想要$ax_b$对应$a/b$，$cx_d$对应$c/d$，那么是否$(ax_{b})(cx_d)\equiv acx_bx_d$对应$(ac)/(bd)$？如果$bd\in S$，那么这是对的，因为$x_bx_d\equiv x_{bd}$. 但是一般而言这是不对的，所以对$S$我们希望是对乘法封闭的。此外，观察加法也是，只有在$bd\in S$的时候才有对应$a/b+c/d=(ad+bc)/(bd)$.

现在我们可以推出那个奇怪的等价关系，在这里的语境下他被表述为：设$a\in R$，则$a\equiv 0$当且仅当存在$s \in S$使得$as=0$.

<= 如果存在$s \in S$使得$as=0$，则$a\equiv asx_s\equiv 0$. 

=> 假设$a\equiv 0$但$as\neq 0$对任意$s\in S$都成立。由于$a\equiv 0$，则$a\in \bigl\langle\{sx_s-1\,:\, s\in S\}\bigr\rangle$.逐次比较，唯一可能的选择就是关于$x$的一次项的线性组合，即
\[
\sum_{i=1}^n a_i(s_ix_{s_i}-1)-a=0,
\]其中求和是有限的。所以$a_is_i=0$对任意的$i$都成立，且$\sum_i a_i=a$. 将$\sum_i a_i=a$两边乘以$s_1\cdots s_n$，得到$as_1\cdots s_n=0$，为了制造矛盾，$S$对乘法封闭又有了用处，因为$s_1\cdots s_n$在$S$里面，所以可以利用$as\neq 0$的假设。