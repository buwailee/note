%!TEX root = main.tex
\appendix
\renewcommand{\thepara}{\Alph{chapter}.\arabic{para}}

\chapter{}
\ThisULCornerWallPaper{1}{../Pictures/19.png}

\section{Zorn引理}
\para 设$A$是一个集合，而$\leq$是$A$上的一个关系，如果满足

\begin{compactenum}[~~~(1)]
\item $\forall x\in A$, $x\leq x$;
\item 如果$x\leq y$以及$y\leq z$，则$x\leq z$;
\item 如果$x\leq y$以及$y \leq x$，则$x=y$.\\则此时我们称$(A,\leq)$是一个偏序集，称$\leq$是$A$的一个偏序。为方便，有时候会直接说$A$是一个偏序集。
\end{compactenum}

在记号上，如果$x\leq y$，则我们有时候也会记做$y\geq x$. 可以看到，如果$(A,\leq)$是一个偏序集，则$(A,\geq)$也是一个偏序集。

显而易见地，在实数域$\rr$上有一个自然的偏序，就是通常的小于等于，或者是大于等于。特别地一点是，实数域上任意两个数是可以比较的，即对$x$, $y\in \rr$，一定成立$x\leq y$或者$y\leq x$，但对于一般的偏序集而言，任意两个元素不一定可以比较。

如果一个偏序集的任意两个元素是可以相互比较的，则这个偏序集被称为全序的，或者叫全序集。实数域当然是一个全序集。再比如，赋值环的所有理想按照包含给出的偏序是全序的。

\para 设$(A,\leq)$是一个偏序集，而$T$是一个$A$的子集，则$(T,\leq)$自然也是一个偏序集。如果$T$中的任意两个元素可以比较，这就称呼$T$是一个链。特别地，如果$A$本身就是一个链，则$A$称为一个全序集。因此链又叫做全序子集。

\para 所谓链$T\subset A$的上界，就是某个$a\in A$，使得$x\leq a$对任意的$x\in T$都成立。下界对应的就是使得$a\leq x$对任意的$x\in T$都成立的$a\in A$。显然，上下界不一定唯一。

\para 设$B$是$A$的一个子集，设$x\in B$，如果对于$B$中任意可以与$x$比较的元素$a$，都有$a\leq x$，则称呼$x$是$B$的一个极大元。同理可以有极小元。

极大元可能不存在，也可能存在很多个。比如设除去$1$的正整数集合$\zz^+-\{1\}=\{2$, $3$, $\cdots\}$，我们如下赋予一个偏序：如果$a$整除$b$（通常记做$a|b$），则$b\leq a$。那么任意的素数$p$都是$\zz^+$中的极大元，因为任意可以与$p$比较的元素都是$np$的形式，因为$p|np$，所以$np\leq p$.

\para 设$B$是$A$的一个子集，设$x\in B$，如果对于$B$中任意的元素$a$，都有$a\leq x$，则称呼$x$是$B$的一个最大元。同理可以有最小元。

最大元不一定存在，但如果存在显然只能有一个，如果有两个，$a$或者$b$，则$a\leq b$以及$b\leq a$，所以$a=b$. 对于全序集来说，极大元和最大元等价。

\begin{thm}[Zorn引理]
设$(A,\leq)$是一个非空偏序集，且其中的每一条链都存在上界，则$A$中存在极大元。
\end{thm}

Zorn引理是选择公理的等价形式，这里不做证明了。

\section{Galois联络}

\begin{para}
设$S$和$T$是两个偏序集，并且存在两个映射$f:S\to T$以及$g:T\to S$满足
\begin{compactenum}[~~~~(1)]
\item 如果$s_1\leq s_2$，则$f(s_2)\leq f(s_1)$.
\item 如果$t_1\leq t_2$，则$g(t_2)\leq g(t_1)$.
\item $\,$$t\leq f(g(t))$以及$s\leq g(f(s))$.
\end{compactenum}
则称$S$和$T$之间存在一个Galois联络。
\end{para}

以范畴的观点来看，第一个条件就是说$f:S^{\text{op}}\to T^{\text{op}}$是一个函子，第二个条件就是在说，$g:T^{\text{op}}\to S^{\text{op}}$是一个函子。不仅如此，第三点还说明这是一对伴随函子。

\begin{pro}
设$S$和$T$之间存在一个Galois联络，则$g(T)$和$f(S)$之间存在一一映射，具体写出来即$s\mapsto f(s)$，以及$t \mapsto g(t)$.
\end{pro}

\begin{proof} 
	设$s=g(t)$，则$t\leq f(g(t))=f(s)$，所以$g(f(s))\leq g(t)=s$. 反过来，由于$s\leq g(f(s))$，所以$s=g(f(s))$. 所以$g|_{f(S)}:f(S)\to g(T)$是一个满射。同样（或者由对称性），对于$t=f(s)$，我们也有$t=f(g(t))$，所以$g|_{f(S)}:f(S)\to g(T)$是一个单射。故而$g|_{f(S)}$是一个双射，它的逆就是$f|_{g(T)}$.
\end{proof}

可以摘出证明中顺便得到的等式
\[
	g(t)=g(f(g(t))),\quad f(s)=f(g(f(s))).
\]


\section{等价关系}
\para 一个关系$\sim$被称为集合$S$上的等价关系，如果
\[
	a\sim a,
\]
\[
	a\sim b \Rightarrow b \sim a,
\]
\[
	a\sim b\text{ and } b\sim c \Rightarrow a \sim c,
\]
第一个被称为自反性，第二个被称为对称性，第三个被称为传递性。

\para 一旦给定集合$S$上的一个等价关系$\sim$，我们把与$a$等价的那些元素构成的子集记作$\bar{a}$. 从等价关系的三个性质可以看出：
\begin{compactitem}
\item $a$与$b$等价当且仅当$\bar{a}=\bar{b}$. 
\item $\bigcup_{a\in S}\bar{a}=S$.
\item 如果$\bar{a}\cap \bar{b}\neq \varnothing$，则$\bar{a}=\bar{b}$.
\end{compactitem}
这样的子集被称为等价类。从上面的第二点可以看出，不同的等价类不相交，所以通过等价关系，我们将$S$划分成了许多不相交的子集。满足上面性质的后两点的子集族被称为$S$的一个划分。

\para 反过来，如果我们给定了$S$的一个划分，则可以定义出一个等价关系：$a$和$b$等价当且仅当他们同处于一个划分$S_i$里面。而划分在这个等价关系里面就构成了等价类。所以等价关系与划分等价。

\section{偏序集上的极限}

\para 回忆一下偏序集，设$I$是一个偏序集，偏序关系为$\leq$，那么通过定义态射
\[
	{I}\left(x,y\right)=\begin{cases}
	(x,y)&\text{, if }x\leq y\text{;}\\
	\varnothing&\text{, otherwise}.
	\end{cases}
\]
则$I$是一个小范畴，如果我们定义$x\geq y$当且仅当$y\leq x$，那么新的偏序集$(I,\geq)$就是偏序集$(I,\leq)$的对偶范畴，略去偏序符号，有时候会记作$I^{\mathrm{op}}$.

$D:I\to \mathcal{C}$是一个协变函子，就是对$i\leq j\leq k$成立$D(j\leq k)\circ D(i\leq j)=D(i\leq k)$，就是说从小到大有映射。反之，反变函子$D:I\to \mathcal{C}$对$i\leq j\leq k$成立$D(i\leq j)\circ D(j\leq k)=D(i\leq k)$，就是说从大到小有映射。

对于一个反变函子$D:I\to \mathcal{C}$，我们可以定义一个协变函子$D^{\mathrm{op}} :I^{\mathrm{op}}\to \mathcal{C}$通过$D^{\mathrm{op}}(j\geq i)=D(i\leq j)$，此时对$k\geq j\geq i$成立$D^{\mathrm{op}}(j\geq i)\circ D^{\mathrm{op}}(k\geq j)=D^{\mathrm{op}}(k\geq i)$，可见这确实是一个协变函子。

\para 设$I$是一个指标集，即只存在关系$x\leq x$. 此时构成的$I$-图的极限称为\idx{积}（\idx{product}），余极限称为\idx{余积}（\idx{coproduct}）。前面提到过的集合的直积就是一种积。

\begin{para}
称$I$是一个下有向集合，如果他是一个偏序集，满足对于任意的$i$, $j\in I$都存在$k\in I$使得$k\leq i$和$k\leq j$同时成立。称$I$是一个上有向集合，如果他是一个偏序集，满足对于任意的$i$, $j\in I$都存在$k\in I$使得$i\leq k$和$j\leq k$同时成立。

很容易看到，如果$I$是上（下）有向集合，那么$I^{\mathrm{op}}$就是下（上）有向集合，反之亦然。所以我们只需研究一种有向集合即可，按照一般的习惯，我们将默认有向集合是上有向集合。
\end{para}

作为例子，考虑拓扑空间中所有非空开集按照包含构成的偏序集，即$U\leq V$当且仅当$U\subset V$，那么这个偏序集是上有向的，但不是下有向的，因为对于任意的$U$和$V$总有$U\leq U\cup V$和$V\leq U\cup V$成立，但对于不交的$U$和$V$，并不存在非空开集同时包含于他们其中。同样是拓扑的例子，考虑所有包含$p$的非空开集按照包含构成的偏序集，那么这个偏序集既是上有向的又是下有向的。

有向集合在拓扑中非常有用。众所周知，序列极限在非第一可数的空间中表现得并不好，这时候我们就需要推广序列的概念，而网（net）就是一种推广。类似于序列是自然数集到拓扑空间的映射，网是一个（上）有向集合到拓扑空间的映射。

\begin{para}
将有向集合$I$看作一个范畴，对任意的范畴$\mathcal{C}$，则我们称一个$I$-图$D$，即一个协变函子$D:I\to \mathcal{C}$，为一个$C$上的一个有向系统，而$I^\text{op}$-图为一个$C$上的一个逆系统。
\end{para}

% 逆系统一般谈论极限${\varprojlim}_{i\in I} D(i)$，而有向系统一般谈论余极限${\varinjlim}_{i\in I} D(i)$，为了思考这个原因，我们考虑如下交换图
% \[
% 	\xymatrix{
% 		&A \ar[dl]_{\lambda_{i}}\ar[dr]^{\lambda_{j}}\ar[dd]^{\lambda_{k}}&\\
% 		D(i)&&D(i)\\
% 		&D(k)\ar[ul]^{D(k\leq i)}\ar[ur]_{D(k\leq j)}&
% 	}
% 	\quad
% % \xymatrix{
% % 	&A \ar[dl]_{\lambda_{i}}\ar[dr]^{\lambda_{j}}\ar[dd]^{\lambda_{k}}&\\
% % 	D(i)\ar[dr]_{D(i\leq k)}&&D(i)\ar[dl]^{D(j\leq k)}\\
% % 	&D(k)&
% % }
% 	\xymatrix{
% 		&A &\\
% 		\ar[ur]^{\mu_{i}}D(i)\ar[dr]_{D(i\leq k)}&&D(i)\ar[ul]_{\mu_{j}}\ar[dl]^{D(j\leq k)}\\
% 		&D(k)\ar[uu]_{\mu_{k}}&
% 	}
% \]
% 左边是对逆系统考虑锥形，右边是对有向系统考虑余锥形。从左边来看，如果$i\leq j\leq k$成立，则$D(k)$构成了一个锥形的顶点，当我们考虑极限的时候，这时候极限就应该表现得像那些“极小”的元素$D(k)$一样。而且如果$A$是极限，那么箭头$A\to D(k)$也构成了唯一分解。类似地考虑右边的图，那些“极大”的元素$D(k)$构成了余锥形的顶点，如果$A$是余极限，那么箭头$D(k)\to A$也构成了唯一分解。

\begin{para}
设$I$是一个偏序集，如果对$i\in I$有，$i>j$对所有$j\in I$不成立，或者说，与可以比较的元素$j\in I$都有$i\leq j$，则称$i$是$I$的一个极小元。如果$i\leq j$对所有$j\in I$都成立，则称$i\in I$是$I$的最小元。

对偶地，如果对$i\in I$有$i<j$对所有的$j\in I$都不成立，或者说，与可以比较的元素$j\in I$都有$j\leq i$，则称$i$是$I$的一个极大元。如果$j\leq i$对所有$j\in I$都成立，则称$i\in I$是$I$的最大元。
\end{para}

\begin{lem}
在有向集合中，极大元和最大元等价。
\end{lem}

\begin{proof}
最大元是极大的，这是显然的。反之，因为如果存在极大元$i$，那么任取一个$j\in I$都存在一个$k\in I$使得$i\leq k$和$j\leq k$都成立，然而$i$是极大元，所以$i=k$，所以$j\leq i$. 
\end{proof}

\begin{para}
对于一个偏序集$I$的子集$J$，如果任取$i\in I$，都存在$j\in J$使得$i\leq j$，则称$J$和$I$是共尾的。
\end{para}

显然，有向集合中的极大元构成的单点集就和它共尾。

\begin{lem}
设$I$是一个有向集合，子集$J$与其共尾，则$J$也是一个有向集合。
\end{lem}

\begin{proof}
设$I$是一个有向集，而$J$与$I$共尾。任取$i$, $j\in J$，由于$I$是有向集，所以存在$k\in I$使得$i\leq k$和$j\leq k$都成立。同时，由于$J$与$I$共尾，所以存在$k'\in J$使得$k\leq k'$，于是$i\leq k'$和$j\leq k'$成立。这就是说，$J$也是一个有向集。
\end{proof}

\begin{pro}
设$I$是一个有向集合，子集$J$与其共尾，而$D$是一个$I$-图，于是，$D$在$J$上的限制$D|_J$是一个有向系统，满足${\varinjlim}_{i\in I} D(i)={\varinjlim}_{i\in J} D(i)$. 对偶地，如果$D$是一个$I^\mathrm{op}$-图，则$D$在$J^\mathrm{op}$上的限制是一个逆系统，且${\varprojlim}_{i\in I} D(i)={\varprojlim}_{i\in J} D(i)$.
\end{pro}

所以对于逆系统，如果存在极小元，那么极小元就是它的极限，对偶地，对于有向系统，如果存在极大元，那么极大元就是它的余极限。%这符合我们上面的直观。

\begin{proof}
我们考察极限，对偶命题是类似的。方便起见，$I^\text{op}$和$J^\text{op}$上的偏序记作$\leq$. 所以$I$是有向集合等价于说，任取$i$, $j\in I^\text{op}$，一定存在一个$k\in I^\text{op}$使得$k\leq i$且$k\leq j$. 记$D(i)$为$D_i$，而$D$在$J^\text{op}$上的限制记作$D'$，$D(i\leq j)$记作$D_{ij}$. 

我们下面检查${\varprojlim}_j D'_j$就是$I$-图$D$的极限。任取对象$A$，以及一族态射$A_i:A\to D_i$，满足与态射族$\{D_{ij}\}$的相容性条件。从$\varprojlim_j D'_j$的泛性质，存在唯一的态射$\varphi:A\to \varprojlim_j D'_j$使得分解
\[
	A_j:A\xrightarrow{\varphi}{\varprojlim}_j D'_j\xrightarrow{\pi'_j} D'_j
\]
对所有的$j\in J^\text{op}$都成立。现在，任取$i\in I^\text{op}$，$J$与$I$共尾保证了我们可以找到$j_i\in J^\text{op}$使得$j_i\leq i$成立。此时，我们有
\[
	A_i=D(j_i\leq i)A_{j_i}=D(j_i\leq i)\pi'_{j_i}\varphi.
\]
我们定义$\pi_i=D(j_i\leq i)\pi'_{j_i}$. 这显然是良定的，如果$j_i$和$k_i$都在$J^\text{op}$中，且都满足$j_i\leq i$和$k_i\leq i$，由于$J$是有向集，所以存在$l_i\in J^\text{op}$同时满足$l_i\leq j_i\leq i$和$l_i\leq k_i \leq i$. 此时
\[
	D(l_i\leq i)\pi'_{l_i}=D(k_i\leq i)D(l_i\leq k_i)\pi'_{l_i}=D(k_i\leq i)\pi'_{k_i}
\]
且
\[
	D(l_i\leq i)\pi'_{l_i}=D(j_i\leq i)D(l_i\leq j_i)\pi'_{l_i}=D(j_i\leq i)\pi'_{j_i},
\]
所以
\[
	D(j_i\leq i)\pi'_{j_i}=D(k_i\leq i)\pi'_{k_i}.
\]
最后，不难检查$\left({\varprojlim}_j D'_j,\pi\right)$是$I$-图$D$的极限。
\end{proof}

% \para 一个拓扑空间$X$能被看成一个范畴，对象取作他的所有开集，而态射取作
% \[
% 	{X}(U,V)=\begin{cases}
% 	\bigl\{i^U_V:U\hookrightarrow V\bigr\}&\text{, if }U\subset V\text{;}\\
% 	\varnothing&\text{, otherwise}.
% 	\end{cases}
% \]

% 考虑拓扑空间$X$中一个非空开集族$\mathfrak{B}$，对于任意的两个$U$, $V\in \mathfrak{B}$，都存在一个$W\in \mathfrak{B}$使得$U\cup V\subset W$成立，这样的$\mathfrak{B}$按照包含构成了上有向集。现在定义函子$i:\mathfrak{B}\to X$通过$i(U)=U$以及$i(U\leq V)=i^U_V:U\hookrightarrow V$，它显然成立复合$i(U\leq W)=i(V\leq W)\circ i(U\leq V)$，所以这个$\mathfrak{B}$-图$i$是一个有向系统。可以看到它的余极限${\varinjlim}_{U\in \mathfrak{B}} U$实际上就是$\bigcup_{U\in \mathfrak{B}} U$，而态射族就是$i_U:U\hookrightarrow \bigcup_{U\in \mathfrak{B}} U$.

% 同样考虑拓扑空间$X$中一个包含一个点$p\in X$的所有非空开集构成的族$\mathfrak{B}$，它按照包含构成一个滤相的偏序集。同样可以定义函子$i:\mathfrak{B}\to X$通过$i(U)=U$以及$i(U\leq V)=i^U_V:U\hookrightarrow V$，同样显然成立复合$i(U\leq W)=i(V\leq W)\circ i(U\leq V)$，所以这个$\mathfrak{B}$-图$i$是一个逆系统。但它的极限${\varprojlim}_{U\in \mathfrak{B}} U$就不一定存在，因为类比于上一个例子，它的极限应该类似于所有$\mathfrak{B}$中元素的交，但这不一定是一个开集。

% \para 设我们有一个$X$上的$\mathcal{K}$-预层$\calf$，他是$X\to \mathcal{K}$的一个反变函子。赋予$X$一个偏序，此时函数$U\leq V$即$U\hookrightarrow V$. 那么$X$的那些包含$p\in X$的非空开集构成的子集族$\mathfrak{B}$继承了偏序结构，也是一个范畴，而预层$\calf$限制在$\mathfrak{B}$给出了反变函子$\mathfrak{B}\to \mathcal{K}$.

% 由于$\mathfrak{B}$是滤相的偏序集，而$\calf$是反变函子，因此$\mathfrak{B}^{\mathrm{op}}$-图$\calf^{\mathrm{op}}$是有向系统，进而我们会考虑余极限
% \[
% 	{\varinjlim}_{U\in \mathfrak{B}^{\mathrm{op}}} \calf^{\mathrm{op}}(U)={\varinjlim}_{U\in \mathfrak{B}^{\mathrm{op}}} \calf(U),
% \]
% 如果这个余极限存在，那么就称为预层$\calf$在点$p$处的纤维，记作$\calf_p$.