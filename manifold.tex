% author: buwailee@nmhs
\documentclass[9pt]{extbook}
\usepackage{noteheader}
\usepackage[winfonts]{ctex}

\newtheorem{para}{}[section]
\newcommand{\paracount}[1]{\refstepcounter{para}\textbf{#1 (\thepara)}}
	\renewcommand{\para}{\paracount{}}
	\newcommand{\theo}{\paracount{Theorem}}
	\newcommand{\pro}{\paracount{Proposition}}
	\newcommand{\lem}{\paracount{Lemma}}
	\renewcommand{\proof}{\textbf{Proof:}\hspace{0.5em}}

\newcommand{\pararef}[1]{(\ref{#1})}

\usepackage[xetex]{hyperref}%使用xetex引擎
	\hypersetup %一些选项
	{
		bookmarksnumbered=true,%书签中章节编号
		colorlinks=true,  % 彩色链接 false:边框链接 ; true: 彩色链接
	}

\input{defs}

\begin{document}
\chapter{Manifold}
\section{Foundation}

\para 一个局部$n$维欧几里得空间是一个Hausdorff空间$M$满足，对每一个点$p\in M$，存在一个$p$的邻域$U\osub M$和一个同胚$\varphi:U\to V$,其中$V$是一个$\rr^n$中的开集。这个同胚有时候被称为一个坐标、坐标映射等，而资料$(U,\varphi)$被称为一个{\kaishu 坐标卡}。

坐标$\varphi$经常写成分量形式，$\varphi=(x^1,\cdots,x^n)$，其中$x^i:U\to \rr$.

一个局部$n$维欧几里得空间是局部紧的，这是因为他局部同胚于欧式空间, 而欧式空间是局部紧的。

\para 局部欧几里得空间$M$上的一个光滑微分结构$\mathscr{F}$是这样一族坐标卡$(U_\alpha,\varphi_\alpha)$，满足：$\{U_\alpha\}$构成$M$的开覆盖，$\varphi_\alpha\circ\varphi^{-1}_\beta|_{U_\alpha\cap U_\beta}$是光滑映射，后者被称为坐标卡的相容性条件。此外，如果有一个坐标卡$(U,\varphi)$和每一个坐标卡都相容，那么可以推断出他在$\mathscr{F}$中，这样的微分结构被称为极大微分结构。极大微分结构当然不一定是唯一的，不过我们不担心这个，因为我们往往是固定一个微分结构来研究流形的，下面假设出现的微分结构总是极大的。

\para 一个$n$维光滑流形(smooth manifold)$(M,\mathscr{F})$是一个赋予了光滑微分结构$\mathscr{F}$的第二可数的局部欧几里得空间$M$.

我们想要做一个范畴，现在已经有了对象，那么自然需要态射，态射被如下定义：

\para 设$(M,\mathscr{F})$和$(N,\mathscr{G})$是两个光滑流形，连续函数$f:M\to N$被称为一个{\kaishu 光滑映射}，如果$\psi\circ f\circ \varphi^{-1}$是一个光滑函数对任意的$\mathscr{F}$中的坐标卡$(U,\varphi)$和$\mathscr{G}$中的坐标卡$(V,\psi)$成立。

这样，光滑流形就构成了一个范畴，其中态射是流形间的光滑映射。他是拓扑空间范畴的子范畴。

从此以后，我们对一个固定的流形$(M,\mathscr{F})$，常常会略去他的微分结构，只写作$M$。对于一个光滑流形$M$的非空开子集$U$，显然，他有继承自$M$的一个拓扑结构和微分结构，所以$U$也是一个光滑流形。很容易看到，$\rr^n$是一个光滑流形，按照上面的结论，我们可以得到一类光滑流形，$\rr^n$的开子集。比如把$n\times n$矩阵放入$\rr^{n^2}$内，那么行列式不为零的那些矩阵就构成一个光滑流形，记作$\mathrm{GL}(n,\rr)$，称作一般线性群。

特别地，$\rr$也是一个光滑流形。我们称光滑映射$f:M\to \rr$是一个$M$上的光滑函数。光滑函数$f$限制在$U\osub M$上也是一个光滑函数$f|_U$.

\para 设$M$是一个光滑流形，$U\osub M$上的光滑函数的集合记作$\calf(U)$，$\calf$被称为$M$上的光滑函数{\kaishu 层}。由于可以逐点定义加法和乘法，所以$\calf(U)$拥有$\rr$-代数结构。设$p\in M$，我们定义如下等价关系：设$U$和$V$都是$p$的邻域，以及$f\in \calf(U)$和$g\in \calf(V)$，如果在一个$W\osub U\cap V$上，$f|_W=g|_W$，则$f\sim g$.所有这样的等价类记作$\calf_p$，称为$p$处的光滑函数{\kaishu 茎}，他的代表元素可以写成$f_p=\langle U,f\rangle$，称为{\kaishu 芽}. 显然$\calf_p$有继承自$\calf(U)$的自然的$\rr$-代数结构。

设$p\in M$，茎$\calf_p$是一个局部环。实际上，$\langle U,f\rangle \in \calf_p$且$f(p)= 0$的元素构成了$\calf_p$的一个理想。不在这个理想内的$\langle U,f\rangle$，由于$f(p)\neq 0$，那么适当缩小$U$到$V$，由$f$的连续性，总可以找到$V$使得$f|_V$处处不为零，这样$\langle V,1/f|_V\rangle$便是$\langle U,f\rangle$的一个逆。因此上面这个理想即$\calf_p$唯一的极大理想，我们其记作$\mm_p$。容易看到$\calf_p/\mm_p\cong \rr$，实际上，对每一个芽$f_p\in\calf_p$，都成立$f_p=f_p-f(p)+f(p)$，在$\calf_p/\mm_p$中看，他和$f(p)\in\rr$也就没区别了。

\lem 设$f:\rr^n\to \rr$光滑，则
\[
	f(x)=f(0)+\partial_if(0)x^i+\frac{1}{2}g_{ij}(x)x^ix^j,
\]
其中$g_{ij}$光滑。

\proof 利用微积分基本定理
\[
	f(x)-f(0)=\int_0^1f'(tx)\dd t=\int_0^1\partial_i f(tx)x^i\dd t=h_i(x)x^i,
\]
可以得到$h_i(0)=\partial_i f(0)$，然后再对$h_i$使用上面的步骤即可得到我们想要的表达式。\qed

\para 使用一个局部坐标$\varphi=(x^1,\cdots,x^n)$且$\varphi(p)=0$，可以将上面的引理翻译到流形上。设设$f:U\to \rr$光滑，则在$p$的一个邻域$V$上对任意的$q\in V$成立
\[
	f(q)=f(p)+\frac{\partial f\circ \varphi^{-1}}{\partial x^i}(p)x^i(q)+\frac{1}{2}g_{ij}(q)x^i(q)x^j(q),
\]
其中$g_{ij}$在$V$上光滑，以后我们就将那个偏微分记作$\partial_i f(p)$.


\para 设$p\in M$，$p$处的茎为$\calf_p$，他的极大理想为$\mm_p$，此时$p$处的 余切空间被定义为自然的矢量空间$T_p^*M:=\mm_p/\mm_p^2$。余切空间的元素被称为余切矢量。

$\mm_p/\mm_p^2$确实是一个矢量空间。首先它显然是一个$\calf_p$-模，然后任取$a\in \mm_p$，由于$a\mm_p/\mm_p^2=0$，所以$\mm_p/\mm_p^2$是一个$\calf_p/\mm_p$-模，即$\rr$-矢量空间。这样定义的余切空间，可以看到，是所有的那些一阶小量构成的集合，即其中的元素为“微分”。


\para 设$p\in M$，$M$是一个$n$维流形，则$T_p^*M:=\mm_p/\mm_p^2$是$n$维的。

我们可以选取一组局部坐标来算维数，由于选取不同的局部坐标都是通过同胚联系的，所以不同的选取对维数没什么影响。由上面的引理，设$f_p\in \mm_p$，则他可以写作
\[
	f_p=\partial_i f(p)x^i_p+\frac{1}{2}g_{ij}(q)x^i_px^j_p
\]
考虑一个局部坐标$\varphi=(x^1,\cdots,x^n)$，设自然同态$\dd_p:\mm_p\to \mm_p/\mm_p^2$，很简单就可以看到$\dd_p(x^i_p)\neq 0$.实际上，如果$x^i_p\in \mm_p^2$，那么$x^i_p=rs$，其中$r$, $s\in \mm_p$，然后根据上面的引理$r=a_ix^i_p+\cdots$以及$s=b_ix^i_p+\cdots$，于是$x^i=rs=a_jb_kx^j_px^k_p+\cdots$，但显然这是不可能的。

所以，如果$f_p\in \mm_p$，则
\begin{equation}
\label{c1:e1}
	\dd_p(f_p)=\partial_i f(p)\dd_p(x^i_p).
\end{equation}
这样所有的$T_p^*M=\mm_p/\mm_p^2$中的元素都可以由$\dd_p(x^i_p)$展开，他们都是非零的，而且容易证明是线性无关的，所以这是$T_p^*M$的一组基，余切空间的维数计算完毕。

以后我们用$\dd_p(f)$乃至$\dd_pf$来记$\dd_p(f_p)$。实际上，我们可以将$\dd_p$定义在$\calf_p$上，设$a$是一个常值芽，补充定义$\dd_pa=0$，可以看到，此时式\eqref{c1:e1}依旧满足。以后我们就这样来看$\dd_p:\calf_p\to T_p^*M$，他被称为{\kaishu 外微分}算子。

\para 此时\[\dd_p (fg)=\dd_p\bigl(\bigl(f-f(p)\bigr)\bigl(g-g(p)\bigr)+f(p)\bigl(g-g(p)\bigr)+\bigl(f-f(p)\bigr)g(p)\bigr)=f(p)\dd_pg+\dd_pf g(p).\]

\para 设$f:M\to N$是一个光滑映射，上面的光滑函数层分别为$\calf$和$\calg$。任取$\varphi\in \calg(V)$，可以通过$f^*\varphi=\varphi\circ f$定义$f^*\varphi\in \calf(f^{-1}(V))$.

下面我们考虑两个流形余切空间之间的映射。设$\langle V,\varphi\rangle\in \calg_{f(p)}$，于是$\langle f^{-1}(V),\varphi\circ f\rangle\in \calf_p$，所以$f^*$诱导了一个$\rr$-代数同态$f^*_p:\calg_{f(p)}\to \calf_p$，特别地，可以看到$f^*_p:\mm_{f(p)}\to \mm_{p}$，于是$f^*_p:\mm^2_{f(p)}\to \mm^2_{p}$.

\para 设$f:M\to N$是一个光滑映射，他诱导了一个线性映射\footnote{这里我们滥用一下记号。}$f^*_p:T_{f(p)}^*N\to T_p^*M$.

\para 对于复合，$(f\circ g)^*_p=g^*_p\circ f^*_{g(p)}$.很容易看到$\id^*_p=\id_{T_p^*M}$，所以如果$f:M\to N$是同胚，则$f_p^*:T_{f(p)}^*N\to T_p^*M$是同构。

\para 利用复合公式，设$f:M\to N$是光滑映射，则$f^*_p\bigl(\dd_{f(p)}g\bigr)=\dd_{p}(f^*g)=\dd_p(g\circ f)$.

\para 设$p\in M$，$M$是$n$维光滑流形，则{\kaishu 切空间}$T_pM$被定义为余切空间$T_p^*M$的对偶空间。切空间的元素被称为{\kaishu 切矢量}。由于余切空间是有限维的，他的对偶空间也和他有着相同的维度，即$n$维。

\para 由于切空间是余切空间的对偶空间，所以他是余切空间上的线性函数构成的空间，反过来，由于是有限维的，所以可以认为对偶空间的对偶空间就是原本的空间，这就是说可以将余切空间的矢量看成切空间矢量的线性函数：设$\dd_p f\in T_p^*M$和$v\in T_pM$，定义$\dd_p f(v):=v(\dd_p f)$.

虽然上面这些个定义都很短也很清楚，不过操作上却没有那么简单。下面，我们将一个切矢量扩张到$\calf_p^*$上面去。


\para 设$f$是在$p$附近的光滑函数，而$v\in T_pM$，可以通过$D_v(f_p):=v(f_p-f(p))$定义线性映射$i_p:v\mapsto i_p(v)=D_v\in \calf_p^*$，他是一个单射。

注意到$(fg)_p=f_pg_p$，所以
\begin{align*}
	D_v(f_pg_p)&=v(f_pg_p-f(p)g(p))\\
	&=v\bigl((f_p-f(p))(g_p-g(p))+f(p)(g_p-g(p))+(f_p-f(p))g(p)\bigr)\\
	&=f(p)D_v(g_p)+D_v(f_p)g(p),
\end{align*}
我们将满足这条性质的线性映射$D_v\in \calf_p^*$称为$p$处的导子，所有$p$处的导子构成的空间暂时记作$V_p$，而他其实和$T_pM$是同构的。

为了证明这点，任取导子$D\in V_p$，由于$D(1)=D(1\times 1)=2D(1)$，所以$D(1)=0$，继而靠着$D$的线性性，对于常值函数的芽$a$来说，$D(a)=aD(1)=0$。因为每一个$\calf_p$中的元素$f_p$都可以写成$f_p-f(p)+f(p)$的形式，所以$D(f_p)=D(f_p-f(p))$，这就是说，一个导子的性质完全由他在$\mm_p$上的值决定，这种关系是一对一的。即$\pi_p:D\mapsto D|_{\mm_p}$是一个线性同构。

同时，设$f_p$, $g_p\in \mm_p$，则$\pi_p(D)(f_pg_p)=f(p)\pi_p(D)(g_p)+g(p)\pi_p(D)(f_p)=0$，于是$\pi_p(D)(\mm_p^2)=0$，所以，$\pi_p(D)\in T_pM$，即$D|_{\mm_p}$是一个切矢量，因此导子$D$完全由一个切矢量$D|_{\mm_p}=\pi_p(D)$决定。这样，$i_p:T_pM\to V_p$也是一个满射，所以他是一个同构。当然我们也可以直接计算验证$\pi_p\circ i_p=\id_{T_pM}$以及$i_p\circ \pi_p=\id_{V_p}$。

因为有这个同构，所以以后我们用$T_pM$来标记导子构成的矢量空间，一个导子才是一个切矢量。这样的好处是，我们在具体计算的时候，可以直接在$\calf_p$上进行而非$\mm_p$上，特别地，现在对于一个切向量$v$来说，成立$\dd_pf(v)=v(f_p)$，这是因为对一个导子$v$来说$v(f_p)=v(\dd_pf)$.

\para 设$f:M\to N$是一个光滑映射，定义它在$p\in M$处的导数为$T_pf=f_{*p}:T_pM\to T_{f(p)}N$使得对任意的$v\in T_p M$和任意的$g_{f(p)}\in \mm_{f(p)}$成立$(f_{*p}v)(g_{f(p)})=v(f_p^*g_{f(p)})$.

为以后的处理方便，不妨通过等同$\partial_i$和标准基$e_i$来等同$T_p\rr^n$和$\rr^n$。此外，通过坐标卡上的同胚$\varphi$，我们用$\partial_i$来标记$\varphi^{-1}_{*p}(e_i)$，这显然是$T_pM$处的一组基。


\para 设$f$是在$p$附近的光滑函数，任取$v\in T_pM$.因为$f_{*p}:T_pM\to T_{f(p)}\rr=\rr$，所以$f_{*p}(v)$是一个数，故而
	\[
		f_{*p}(v)=f_{*p}(v)(\id_{\rr})=v\bigl((\id_{\rr}\circ f)_p\bigr)=v(f_p)=\dd_p f(v).
	\]
	因为对所有的切矢量$v$都成立上式，所以$f_{*p}=\dd_p f$.

选定一个局部坐标，因为$\dd_p x^i(\partial_j)=\partial_jx^i(p)=\delta^i_j$，所以$\dd_p x^i$就是$\partial_i$的对偶基。下面我们来计算一个特别的例子，设$f:M\to \rr^n$是一个流形$M$上的矢量值光滑函数，则$f^i:M\to \rr$是一个光滑函数，那么$f_{*p}=\dd_pf^i e_i$，其中$e_i$是$\rr^n$的标准基。再设$f:\rr^m\to \rr^n$，则$\dd_pf^i=\partial_j f^i(p) \dd x^j=\partial_j f^i(p) e^j$.写成矩阵即
\[
	(f_{*p})^{i}_{\phantom{i}j}=\partial_j f^i(p),
\]
此即$f$的Jacobian.

\para 复合函数求导法则：$(f\circ g)_{*p}=f_{*g(p)}\circ g_{*p}$.抽象表现出来是线性映射复合，表现在矩阵（即Jacobian）上就是两个矩阵相乘。

\para 设$U$上光滑曲线$\sigma:(-\epsilon,\epsilon)\to U$，在时间为零的时候经过点$p$，即$\sigma(0)=p$，于是$\sigma_{*0}=\dot\sigma(0)\in T_pM$. 局部来说，他可以写作
\[
	\dot{\sigma}(0)=\frac{\dd x^i\circ \sigma}{\dd t}(0)\partial_i=\dot \sigma^i(0)\partial_i,
\]
当他作用在一个光滑函数上时，写作
\[
	\dot{\sigma}(0)(f)=\dot \sigma^i(0)\partial_if(p).
\]
对于固定的$f$，$\dot{\sigma}(0)(f)$可以看做$f$沿着$\sigma$在点$p$切矢量的方向导数，实际上，在$\rr^n$中，我们通常将上式写作$\dot{\sigma}(0)(f)=v\cdot \nabla f$，其中$v=\dot \sigma^i(0)e_i$.

\para 反过来，给定一个点$p$处的切矢量$v$，我们可以找到一个光滑曲线$\sigma$使得在他点$p$的切矢量就是$v$。这是局部结论，在欧式空间里去证明就可以了。在欧式空间中，$\sigma(t)=p+vt$就是我们需要的光滑曲线。

\para 由于$v(f_p)$可以看做$f$沿着$v$方向在$p$点的方向导数，以及等式$\dd_pf(v)=v(f_p)$，所以$\dd_pf(v)$也理解为$f$沿着$v$方向在$p$点的方向导数。

\para 正如我们前面提到的，切矢量的几何直观可以靠曲线的切矢量来想象，那么余切矢量呢？为了做出适当的想象，不妨回到欧式空间里面，固定一个切矢量，方向导数$\dd_pf(v)$可以写作$v\cdot \nabla f(p)$，所以（在欧式空间的内积结构下）我们可以认为$\dd_pf$就是$\nabla f(p)$。现在改变$p$，我们得到了一个矢量场$\nabla f$，这是$\{f=\text{const}\}$确定的等能面的法矢量场，法矢量场和等能面一一联系。所以为了避免引入内积结构，我们可以认为$\dd_pf$就是局部的一族等能面。

\section{Submanifold}

\para $\varphi:M\to N$是一个光滑映射，\no{a}. 称$\varphi$是一个浸入，如果$\varphi_{*p}$处处非退化。\no{b}. 称$(M,\varphi)$是一个子流形，如果$\varphi$是单的。不是所有浸入都是子流形，比如圆周的参数表示$(\cos t,\sin t)$是一个浸入，但不是单的。

显然，对于光滑流形的一个开子集，他可以继承大流形的流形结构而形成一个新的流形，他是一个子流形，被称为开子流形。

后面我们经常会说“设流形$M$上有某某”这样的话，但一般来说，某某在流形上的整体存在性是很难保证的，往往他只是局部存在，即可以在流形$M$的某个开集上存在。但是注意到$M$的开集现在也有流形结构，即开子流形结构，于是我们的命题就可以在这个新的流形上正常工作了。所以经常为了方便，对于不少命题的陈述，我们会把对象直接定义到整个流形上。

\para 设$\varphi:M\to N$，如果$M$微分同胚于$N$的开子流形$\varphi(M)$，则称子流形$(M,\varphi)$是一个嵌入。

浸入子流形不一定是嵌入子流形，比如秩为$1$的单的光滑曲线$f(t)=((t^3+t)/(t^4+1),(t^3-t)/(t^4+1))$，在$\rr^2$中他的图像看起来是可以有自交点的。

\para 设$U$是$M$的一个子集，但$U$本身有一个流形的结构，如果此时$i:U\hookrightarrow M$是一个嵌入，则称$U$是$M$的一个正则子流形。

所谓的正则子流形就是说，它本身的流形结构和从大的流形那里继承来的流形结构是相同的的。

\para 设$M$和$N$是光滑流形，$f:M\to N$是一个单浸入。我们可以赋予$f(M)$一个微分结构通过把$f:M\to f(M)$做成一个微分同胚。此时，$f(M)$是$N$的正则子流形当且仅当$f$是一个嵌入。

\para 反函数定理：设$U\subset \rr^n$是一个开集，映射$f:U\to \rr^n$光滑，如果Jacobian在$p$处非奇异，即$f_{*p}$可逆，则存在$p$的一个邻域$V\osub U$，使得$f|_V:V\to f(V)$是一个（光滑）同胚。

证明见微积分教材，常见的证明有比如压缩映像定理。该定理说明，如果函数局部线性化后性质不错，那么在那点附近性质也不错。由于是局部性质，所以可以直接翻译到流形上没什么改变。

\theo 流形上的反函数定理：设$M$和$N$的维度相同，映射$f:M\to N$光滑，如果$f_{*p}$可逆，则存在$p$的一个邻域$U$，使得$f|_U:U\to f(U)\subset N$是一个（光滑）同胚。换句话说，浸入局部是嵌入。

\para 称一族$M$上的光滑函数$\{f_i\}_{1\leq i\leq n}$在点$p$相互无关，即指$\{\dd_p (f_i)=(f_i)_{*p}\in T_p^*M：1\leq i\leq n\}$们线性无关。

如果$\{f_i\}_{1\leq i\leq n}$相互无关，则函数$f=(f_1,\cdots,f_n):M\to \rr^n$在点$p$上的导数$f_{*p}$可逆，所以按照反函数定理，可以在$p$附近找一个领域，使得$f|_V$是一个$V$到$\rr^n$中开集的同胚，这样$(V,f|_V)$就是一张坐标卡。如果$\{f_i\}$个数不到$n$，那么补几个进去，照样可以找到一张坐标卡，其中前几个分量是$\{f_i\}$.

\lem 设$f_*:V\to W$是一个有限维矢量空间间的线性映射以及他的对偶映射是$f^*:W^*\to V^*$，则$\rank(f_*)=\rank(f^*)$. 特别地，当$f_*$是单（满）的时候，$f^*$是满（单）的。

\para 设$\varphi:M\to N$光滑，且$\varphi_{*p}$是单射。令$(x_1,\cdots,x_n)$是$\varphi(p)$附近的一个坐标，那么$x_i\circ\varphi$是$p$附近的一个坐标。特别地，$\varphi$在$p$附近是一个单射。如果$\varphi_{*p}$是满射，则$x_i\circ\varphi$是$p$附近的一个坐标中的一部分。

若$\varphi_{*p}$是单射，他的对偶映射$\varphi^*_p$就是满射，于是$\varphi^*_p(x_i)_{*\varphi(p)}=(x_i\circ\varphi)_{*p}=\dd_p(x_i\circ \varphi)$张成了$T_p^*M$，在其中选出一组极大线性无关组（不妨设为前$m$个），这就构成了$p$附近的一组坐标。而$(x_1,\cdots,x_m)\circ \varphi$局部是同胚，所以$\varphi$局部是单射。

若$\varphi_{*p}$是满射，他的对偶映射$\varphi^*_p$就是单射，于是$\varphi^*_p\dd_{\varphi(p)}x_i=\dd_p(x_i\circ \varphi)$相互独立，一般来说，他数量不够构成坐标，但是却可以构成坐标中的一部分。

\para 设$f:M\to N$是一个光滑映射，则$\rank_p f$被定义为$\rank_p f_{*p}$.取$p$和$f(p)$附近的坐标$\varphi$和$\psi$且使得$\varphi(p)=0$，则$f$在点$p$的秩就是Jacobian矩阵$(\psi\circ f \circ \varphi^{-1})_{*0}$的秩。

选取$f(p)$附近的坐标$\psi$，则$\psi\circ f:M\to \rr^n$，不妨将其写作$(f_1,\cdots,f_n)$，则$\rank_p f$就是${\dd_pf_1,\cdots,\dd_pf_n}$张成的线性空间的维度。实际上，因为这是局部结果，所以可以直接假设$N=\rr^n$，而此时$f_{*p}=(\dd_pf_1,\cdots,\dd_pf_n)$。

\theo 设$M$是一个$m$维流形且$f:M\to N$是一个光滑映射，如果存在常数$l$使得$\rank_p f$处处等于$l$，那么对于$q\in N$，$f^{-1}(q)$要么是空集，要么是$M$的一个正则子流形，维度为$m-l$。

这个定理我们就不证明了。特别当$N=\rr$的时候，$f$如果是一个秩处处为$1$的光滑函数（即$\dd_p f$处处不为零），则$f^{-1}(a)$或者是一个空集，或者是一个$m-1$维正则子流形。这就是所谓的等能面，或等势面。

\section{Vector Field}
和我们以前的直观一样，所谓的矢量场(vector field)就是每一点赋予一个矢量。

\para 设$U\osub M$，$U$上的映射$X:p\mapsto X(p)\in T_pM$被称为$U$上的（切）矢量场。因为在$U$的每一个局部$V$（至少一个坐标卡内），矢量场$X$都可以写作$X=X^i\partial_i$，其中$X^i$是$V$上的实值函数，而$\partial_i$在不同的点分属不同的切空间。如果$\{X^i\}$在点$p$是光滑函数，则称$X$在$p$处光滑。如果$X$在$U$处处光滑，则称$X$是$U$上的一个光滑矢量场。

对矢量场而言，他可以作用在光滑函数上得到一个函数，在局部的作用效果即$Xf=X^i\partial_if$. 显然，如果$X$是要给光滑矢量场，则$Xf$是一个光滑函数。反过来，如果$X^i\partial_if$对任意的光滑函数都光滑，则$X^i$自然也是光滑的，所以有下面一个结论。

\para 设$X$是一个$U$上的矢量场，如果$Xf$对任意的光滑函数$f$也是光滑的，那么$X$是一个光滑矢量场。这个命题可以看作矢量场光滑性的一个坐标无关的定义。

\para 设$f:M\to N$是一个光滑单射，而$X$是$M$上的一个光滑矢量场，则$f_*X:p\mapsto f_{*f^{-1}(p)}X_{f^{-1}(p)}$是$N$上的一个矢量场。因为$(f_*X)g=X(g\circ f)$成立，所以这也是一个光滑矢量场。

下面我们用（光滑）纤维丛的语言来抽象地定义场。

\para 设$E$, $B$, $F$是三个光滑流形，$\pi:E\to B$是一个光滑映射，若在每一点$p\in B$，都存在一个邻域$U$和光滑同胚$\varphi$使得$\pi^{-1}(U)$同胚于$U \times F$，且如下交换图成立。则称$(E, B, \pi, F)$是一个以$B$为底，以$F$为纤维的纤维丛(fiber bundle)。
	\[
		\xymatrix{
			\pi^{-1}\left(U\right)\ar[rr]^\varphi \ar[dr]_\pi&&U\times F \ar[dl]^{\mathrm{proj}_1}\\
			&U&
			}
	\]

一般称呼$B\times F$为平凡丛。如果$F$是一个矢量空间，则$(E, B, \pi, F)$被称为一个矢量丛。显然，$\calf(M)$是以$M$为底$\rr$为纤维的纤维丛。

\para 设$(E, B, \pi, F)$是一个纤维丛，设$U\subset B$是一个开集，则$U$上的光滑截面(section)定义为一个光滑映射$s:B\to E$满足$\pi\circ s=\id_U$.

\begin{figure}[htp]
\centering
	\begin{tikzpicture}[scale=1]
		\draw (-2,-0.3)--(2,-0.3)--(2,1)--(-2,1)--cycle;
		\node [label=left:$F$] (F) at (-1.8,0.35) {};
		\node [label=below:$M$] (M1) at (1.2,-0.2) {};
		\node [label=below:$M$] (M2) at (1.2,-1.2) {};
		\node [label=below:$E$] (E) at (0.7,0.7) {};
		\draw (-2,-1.3)--(2,-1.3);
		\node [fill=black, inner sep=1pt, label=below:$p$] (p) at (-0.3,-1.3) {};
		\draw [color=black, domain=-1.6:1.6] plot (\x,{0.3*sin(2*\x r)+0.5});
		%0.5-0.3*sin(0.6)=0.330607...
		\node [fill=black, inner sep=1pt, label=right:\tiny$s(p)$] (s) at (-0.3,0.3306) {};
		\draw (-0.3,-0.5)node[below]{\small$\pi^{-1}(p)$}--(-0.3,1.2);
	\end{tikzpicture}
	\caption{Trivial Bundle and its Section}
\end{figure}

一个纤维丛不一定有整体截面，但是一定有局部截面，因为纤维丛在局部都是平凡丛，而平反丛一定有截面，比如常值截面$s(x)=a\in F$。对于一个纤维丛，直观来看，就是在底流形$B$每一点$p$，都放一个$\pi^{-1}(p)\cong F$，而所谓的截面，就是在每一点$p$，都选定$\pi^{-1}(p)\cong F$中的一个元素，这其实也就是矢量场的基本想法。

\para 反过来，如果给定了每一点的纤维，则我们有可能拼出一个纤维丛。切丛和余切丛正是如此定义的。

\para 流形$M$的切丛(tangent bundle) $TM$被在集合上被定义为
\[
	TM=\coprod_{x\in M}T_xM=\bigcup_{x\in M} \left\{x\right\}\times T_xM=\bigcup_{x\in M} \left\{(x, y)\vert\; y\in T_xM\right\}.
\]
余切丛(cotangent bundle)$T^*M$在集合上被被定义为
\[
	T^*M=\coprod_{x\in M}T^*_xM=\bigcup_{x\in M} \left\{x\right\}\times T^*_xM=\bigcup_{x\in M} \left\{(x, y)\vert\; y\in T_x^*M\right\}.
\]

\para 来看切丛，$M$显然是底流形，而$\pi$也可以显然地通过把$(p,v)\in TM$映射到$p\in M$来定义。剩下的，我们要赋予$TM$一个光滑流形结构，然后检验是否满足纤维丛的定义。

为此，对于$p\in M$，找一个坐标卡$(U,\varphi)$，在这张卡内，$T_qM$通过$\varphi_{*q}$同构于$\rr^n$，我们这样选取$\pi^{-1}(U)$上的微分结构，使得他通过$\id_U\times \varphi_*$光滑同胚于$U \times \rr^n$，这样$TM$就有了一个坐标卡$(\pi^{-1}(U),\varphi\times \varphi_*)$，于是他是一个光滑流形，也是一个以$M$为底，$\rr^n$为纤维的纤维丛。同样地，$T^*M$也是一个纤维丛。

\para 所以$U$上的光滑切矢量场就是$TM$的$U$上的一个光滑截面。

\para 设$X$是一个$U$上的光滑矢量场，如果一条光滑曲线$\sigma:(-\epsilon,\epsilon)\to U$且$\sigma(0)=p$，满足$X(\sigma(t))=\dot{\sigma}(t)$，则称$\sigma$是$X$在$p$附近的一条积分曲线。

将矢量场局部写出来，$X(\sigma(t))=X^i(\sigma(t))\partial_t$，所以问题归结到了求解微分方程
\[
	\frac{\dd x^i\circ \sigma}{\dd t}(t)=X^i(\sigma(t)),
\]
他的初值为$\sigma(0)=p$。微分方程的（光滑）解在局部存在且唯一，所以我们得到了：

\para 在$p$附近，对$X$存在唯一的积分曲线$\sigma:(-\epsilon,\epsilon)\to U$.

\lem 设$X$是$U$上的光滑矢量场，如果$X_p\neq 0$，则存在一个$p$的邻域$V$，在$V$上存在一组坐标使得$X$可以写作$\partial_1$.

\proof
	完全是局部的结果，我们就在欧式空间里面证明，即找一组新的坐标来把$X=X^i\partial_i$变成$\partial'_1$. 

	如果能够证明可以写作$a \partial_1$，那么再令$x'$是$\partial x^1/\partial x'^1=a$的解（这个解积个分就出来了），那么自然就有$\partial'_1=a\partial_1$.

	不妨假设$X^1$在$p$的某个邻域不为零，现在我们来解常微分方程组
	\[
		\frac{\dd x^i}{\dd x^1}=\frac{X^n(x^1,\cdots,x^n)}{X^1(x^1,\cdots,x^n)},
	\]
	给定初值为$\{\varphi^i(0;v^2,\cdots,v^n)=v^i:2\leq i \leq n\}$，我们知道解$\{x^i=\varphi^i(x^1;v^2,\cdots,v^n)\}_{2\leq i \leq n}$局部存在且光滑依赖于初值$\{v^2,\cdots,v^n\}$以及$x^1$，所以我们选取新坐标$\{v^1,v^2,\cdots,v^n\}$使得
	\[
		\{x^1,x^2,\cdots,x^n\}=\{v^1,\varphi^2(v^1,\cdots,v^n),\cdots,\varphi^n(v^1,\cdots,v^n)\},
	\]
	容易计算他在$v^1=0$处的Jacobian行列式$\det(\partial x/\partial v)=1$，所以这是一个合理的坐标选取。

	最后，注意到$X^i=X^1 \dd x^i/\dd x^1=X^1 \dd x^i/\dd v^1$，所以
	\[
		X=X^i\partial_i=X^1 \frac{\dd x^i}{\dd v^1}\frac{\partial}{\partial x^i}=X^1\partial'_1.
	\]\qed

设$X$是$U$上的光滑矢量场，对$U$上的每一点$p$，都可以在$p$附近找到他的一条光滑积分曲线$\sigma_p$，上面的点$\sigma_p(t)$我们也记作$\sigma_t(p)$，这样我们就得到了一个新的一族映射$\{\sigma_t:U\to U\}$，当$t=0$的时候，$\sigma_0=\id$.这样的一族映射$\{\sigma_t\}$被称为矢量场$X$的流。如果需要明确是那个矢量场的时候写作$\{\sigma^X_t\}$. 由微分方程解的唯一性可以发现$\sigma_t\circ \sigma_s=\sigma_{s+t}$.

对于一个矢量场，整体流的存在性是不能保证的，比如对$t=1$的时候，是否对每一个$p$变换$\sigma_1$都有意义？但是，至少在局部，我们可以保证在一定范围内的参数都是有意义的，对于局部的问题，这个存在性已经基本够使了。

\para 光滑流形$M$上的光滑矢量场$X$的支集被定义那些使$X$不为$0$的点集的闭包。如果$X$有紧支集，则$X$的流的参数可以全局定义到$\rr$上面去。特别地，如果流形是紧的，则对每一个光滑矢量场都成立。

设支集为$K$，找一个他的开覆盖，使得每一个开覆盖内$\sigma_t$都对某一个小区间$t\in (-\epsilon,\epsilon)$上有定义，由于紧，所以可以找到有限的子覆盖，所以在这些子覆盖里面，把最小的$\epsilon_{\text{min}}$挑出来，则在$K$上，对$t\in(-\epsilon_{\text{min}},\epsilon_{\text{min}})$，$\sigma_t$都有定义。现在对$p\notin K$定义$\sigma_t(p)=p$，容易检验$\epsilon_t$定义良好且还是光滑映射。最后，对$t>\epsilon_{\text{min}}$，我们可以从某个$t_0\in (-\epsilon_{\text{min}},\epsilon_{\text{min}})$反复复合$\sigma_{\epsilon_{\text{min}}/2}$，反之对$t<-\epsilon$亦然。

现在我们将积分曲线的问题稍稍拓展一下，比如我们现在有两个矢量场$X$和$Y$，他们在每一点张成一个平面，类比于积分曲线，我们要问是否存在一个光滑曲面，使得这个曲面在每一点的切空间都是这俩矢量场张成的平面？

可以直接想象一下怎么处理这样的问题，直观来看，积分曲面可以由积分曲线拼成，即在$p$附近，$X$的一条一条积分曲线和$Y$的一条积分曲线编成一张网，这张网其实应该就在积分曲面上。因此积分曲面存在与否当且仅当这张网足够光滑，不能突然错开。此时的错开，就是说，从网格的一个端点处，沿着两条路径走到的终点处于积分曲面的两侧。

为简单见，我们看看这样一个曲边四边形。从$p$出发，沿着$X$的积分曲线走$s$，走到了$\sigma^X_s(p)$，再从这点出发，沿着$Y$的积分曲线走$t$，走到$\sigma^Y_t\circ\sigma^X_s(p)$.同样，从$p$出发，沿着$Y$的积分曲线走$t$，走到了$\sigma^Y_t(p)$，再从这点出发，沿着$X$的积分曲线走$s$，走到$\sigma^X_s\circ\sigma^Y_t(p)$。

这样我们就得到了弯曲的四边形，$p$是其中一个端点，但是一般来说，沿着两条路径并不会有相同的终点，即$p$的对角线方向的另一端点不存在，此时两条路径并不能闭合成一个弯曲的四边形。甚至，即使积分曲面存在，我们也不能得到一个闭合的四边形（网格），但是，如果沿着两条路径的终点是错开的，则积分曲面依然不存在。

实际上，因为$X$和$Y$的光滑，我们可以适当延长（或缩短）相比$s$和$t$小量的在一条路径上走的时间使得弯曲的四边形变成一个网格（此时局部积分曲面存在），或者，永远是错开的（此时局部积分曲面不存在）。

我们现在需要比较两条路径两个终点的差，在欧式空间里面，我们可以比较这两个点的距离。但是在流形上这样做是不方便的，我们可能连一个很直接的计算两个点距离的手段都没有。为了克服这个困难，我们可以采用“表示”的手段，取一个$U$上的光滑函数$f$，比较$f(\sigma^Y_t\circ\sigma^X_s(p))$和$f(\sigma^X_s\circ\sigma^Y_t(p))$。但光取一个$f$肯定是不够的，取而代之，我们可以取遍$U$上所有的光滑函数，如果我们关于所有的光滑函数都计算出了$f(\sigma^Y_t\circ\sigma^X_s(p))-f(\sigma^X_s\circ\sigma^Y_t(p))$（在$s$, $t$都很小时），那么就可以确认这两个坐标相差很小的程度。所以现在就是要计算在$s$, $t$都很小时的
\[
	g(s,t)=f(\sigma^Y_t\circ\sigma^X_s(p))-f(\sigma^X_s\circ\sigma^Y_t(p)).
\]

因为$g$是光滑函数，我们在$(0,0)$局部展开他，求导就可以得到系数。显然，他到二阶为止的导数都为$0$，并且$\partial_s^2g(0,0)=\partial_t^2g(0,0)=0$，所以他最低阶不为零的只可能是$\partial_s\partial_t g(0,0)$，这就是说，我们要求$\lim_{s,t\to 0}g(s,t)/st$.

\para 在$t$很小的时候，$f(\sigma_t^X p)=f(p)+tXf(p)+o(t^2)$.为了证明他，只要求$p$处的导数就行了，设$\sigma^X(t)$是$\sigma^X(0)=p$的$X$的积分曲线，则
	\[
		\frac{\dd}{\dd t}\biggr|_{t=0}f(\sigma_t^X p)=\frac{\dd}{\dd t}\biggr|_{t=0}f\circ \sigma^X (t)=f_{* p}X=Xf(p).
	\]

所以（暂时在记号上略去高阶项）
\[
	f(\sigma^Y_t\circ\sigma^X_s(p))=f(\sigma^X_s(p))+tYf(\sigma^X_s(p))=f(p)+sXf(p)+tY(\sigma^X_s\circ f(p)),
\]
以及
\[
	g(s,t)=sXf(p)+tY(\sigma^X_s\circ f(p))-tYf(p)-sX(\sigma^Y_t\circ f(p)),
\]
其中
\[
	Y(\sigma^X_s\circ f(p))-Yf(p)=sX(Y(f))(p),
\]
所以
\[
	g(s,t)=st\bigl(X(Y(f))(p)-Y(X(f))(p)\bigr),
\]
这就是说$\partial_s\partial_t g(0,0)=X(Y(f))(p)-Y(X(f))(p)$.

\para 定义两个矢量场$X$, $Y$的Lie括号为$[X,Y]$，他满足$[X,Y](f)=X(Y(f))-Y(X(f))$。

如果采用局部表示$X=X^i\partial_i$和$X=Y^i\partial_j$，则我们可以计算出
	\begin{align*}
	[X,Y](f)&=X^i\partial_i(Y^j\partial_j f)-Y^i\partial_i(X^j\partial_j f)\\
	&=X^i\partial_iY^j\partial_j f-Y^i\partial_i X^j\partial_j f\\
	&=(X^i\partial_iY^j-Y^i\partial_i X^j)\partial_jf.
	\end{align*}
	因此，尽管形式上是二阶的，但$[X,Y]$还是一个切矢量场，局部写作$[X,Y]=(X^i\partial_iY^j-Y^i\partial_i X^j)\partial_j=(X(Y^j)-Y(X^j))\partial_j$.


\para 设$X_1$, $\cdots$, $X_k$是一族切矢量场，记
	\[
		D=\{f_1X_1+\cdots+f_kX_k:\forall 1\leq i \leq k,\,\, f_i\in \calf(M)\},
	\]
	称他为流形$M$上的一个被$\{X_i\}$张成的分布。

\para 设$X$和$Y$张成一个分布$D$，则局部积分曲面存在当且仅当在$[X,Y]\in D$.

如果局部积分曲面存在，那么曲边四边形完全处于积分曲面上面，尽管沿着两条路径得到的终点可能不同，但是这两个点的连线（或者他的切矢量）应该在$s\to 0$, $t\to 0$的时候确定了一个切矢量（由于$X$和$Y$的光滑性，所以这个切矢量并不依赖于连线的选取），他处于积分曲面的切子空间（由$X_p$和$Y_p$张成）里面，且正比于$[X,Y]_p$，所以$[X,Y]_p=a(p)X_p+b(p)Y_p$.而$a$和$b$的光滑性是显然的。

如果不存在，就是说两个端点分处$X_p$和$Y_p$张成的切子空间两侧，所以两个点的连线确定的那个切矢量应该不在和$X_p$和$Y_p$张成的切子空间里，即$[X,Y]_p\neq aX_p+bY_p$.


\para 问题可以问得更广一点，设$X_1$, $\cdots$, $X_k$是一族切矢量场，他们是否（至少在局部）有积分“曲面”存在？回答是Frobenius定理：设$X_1$, $\cdots$, $X_k$在点$p$张成的分布为$D$，则局部存在积分“曲面”当且仅当对任意的$i$和$j$成立$[X_i,X_j]\in D$。

当然，这个结论可以更加形式地证明他，如果不信任上面的直观想法，则可以参看任何一本微分流形的教材，我这里就略去了。

\para 令$\varphi$是流形$M$上的光滑可逆变换，设矢量场$X$的流为$\sigma_t$，则$\varphi_*X$的流为$\varphi\circ \sigma_t\circ\varphi$.

设在$p$处的切矢量为$X_p$，经过$p$的$X$的积分曲线为$\sigma(t)$，使用变换$\varphi$，变成了$q=\varphi(p)$，$q$处的切矢量$\varphi_{*p}X_p=(\varphi_*X)_q$以及积分曲线$\varphi(\sigma(t))=\varphi(\sigma_t q)=\varphi\circ\sigma_t\circ \varphi^{-1}(p)$.此即结论。

\para 所以，$\varphi_*X=X$当且仅当$\varphi\circ \sigma^X_t=\sigma^X_t\circ \varphi$成立。

\para 直接的计算，我们有：
	\[
		[X,Y]=\lim_{t\to 0}\frac{1}{t}\bigl(Y-(\sigma_t^X)_*Y\bigr).
	\]

所以，如果$\sigma_t^X$和$\sigma_s^Y$可交换，即$\sigma_t^X\circ \sigma_s^Y=\sigma_s^Y\circ \sigma_t^X$，则$(\sigma_t^X)_*Y=Y$以及$[X,Y]=0$.

设$\varphi:M\to N$是一个光滑映射，$X$和$Y$分布是$M$和$N$上的光滑函数，称他们是$\varphi$相关的，如果$\varphi_*X(f)=Y(f)\circ \varphi$对任意光滑函数$f$成立。局部来看，$X_p(f\circ \varphi)=Y_{\varphi(p)}(f)$.

若$X_1$与$Y_1$是$\varphi$相关的，$X_2$与$Y_2$是$\varphi$相关的，则$[X_1,X_2]$和$[Y_1,Y_2]$是$\varphi$相关的，因为
\begin{align*}
	\varphi_*[X_1,X_2](f)&=X_1(X_2(f\circ \varphi))-[1\leftrightarrow 2]\\
	&=X_1(Y_2(f)\circ\varphi)-[1\leftrightarrow 2]\\
	&=Y_1(Y_2(f))\circ \varphi-[1\leftrightarrow 2]\\
	&=[Y_1,Y_2](f)\circ \varphi.
\end{align*}
因为对于一个同胚而言，$\varphi_*(X)$被定义为$p\mapsto \varphi_{*\varphi^{-1}(p)}X_{\varphi^{-1}(p)}$，或者$\varphi(p)\mapsto \varphi_{*p}X_p$，这就是说
\[
	X_p(f)=\varphi_*(X)_{\varphi(p)}(f),
\]
因此$X$与$\varphi_*X$是$\varphi$相关的。


\para 令$\varphi$是$U$上的光滑同胚$\varphi:U\to \varphi(U)$，$X$和$Y$是$U$上的矢量场，则在$U$上$\varphi_{*}[X,Y]=[\varphi_{*}X,\varphi_{*}Y]$.

因此，作为局部的同胚，$\sigma_s^X$可以适用
\[
	(\sigma_s^X)_*[X,Y]=[X,(\sigma_s^X)_*Y]=\lim_{t\to 0}\frac{1}{t}\bigl((\sigma_s^X)_*Y-(\sigma_{s+t}^X)_*Y\bigr)=\frac{\dd}{\dd t}\biggr|_{t=s}(\sigma_t^X)_*Y.
\]

如果$[X,Y]=0$，则$(\sigma_t^X)_*Y$是一个常矢量（局部来看，系数为常数），因此$Y$在$(\sigma_t^X)_*$作用下不变，这就是说$Y=(\sigma_t^X)_*Y$，于是$\sigma_t^X$和$\sigma_s^Y$可交换.

\para $[X,Y]=0$当且仅当$\sigma_t^X$和$\sigma_s^Y$可交换。

既然流是可交换的，那么以前我们谈的那个曲边四边形总是可以闭合的，所以这种情况下积分流形局部肯定存在，因为在局部我们可以一块一块曲边四边形拼起来。由于显然的$[\partial_i,\partial_j]=0$，如果我们能够选取局部坐标使得一族矢量场$\{X_i:1\leq i \leq k\}$变成$\{\partial_i:1\leq i \leq k\}$，则积分曲面存在。那么什么时候$\{X_i\}$是可以变成$\{\partial_i\}$呢？答案前面已经有了，$[X_i,X_j]\in D$，分布$D$由$\{X_i\}$生成。当然，这可以直接证明，所以这也是证明积分曲面存在性的一种思路。

最后给个例子，$n$维欧式空间，$\{\partial_i:1\leq i \leq k\}$的可能的积分曲面$\{x_i=c_i:k+1\leq i \leq n\}$，其中$c_i$是常数。如果这个积分曲面还是连通的，设$\pi$是往最后$n-k$个坐标的投影，则$\pi_*\partial_i=0$，其中$1\leq i \leq k$，因此$(\pi\circ i)_*=0$，其中$i$是积分流形往欧式空间的嵌入，此时由积分流形的连通性，$\pi\circ i$是常值映射。此时的积分流形就是上面的$\{x_i=c_i:k+1\leq i \leq n\}$.

\section{Cotangent Vector Field}

\para 设$U\osub M$，$U$上的光滑余切矢量场（或者叫做一个1-形式）是余切丛在$U$上的一个光滑截面。余切矢量场$\omega$都可以写作$\omega=a_i\dd x^i$，其中$a_i$是$V$上的实值函数，而$\dd x^i$在不同的点分属不同的余切空间。因为是光滑余切矢量场，所以$\{a_i\}$在点$p$是光滑函数。

一个余切矢量场和一个切矢量场之间存在作用$\omega(X)=X(\omega)$可以得到一个光滑函数，具体来说就是在每一点$p$，$\omega_p(X_p)\in \rr$.

% \para 正如切矢量场，对余切矢量场$\omega$，光滑性也有如下判据：$\omega$是光滑的，当且仅当$\omega(X)$是光滑的对$U$上的任意光滑切矢量场$X$成立。

\para 设$f$是$U$上的光滑函数，显然$\dd f$是一个$U$上的光滑余切矢量场。记$U$上的光滑函数的集合为$\Omega^0(U)$，记$U$上的光滑余切矢量场的集合为$\Omega^1(U)$，则$\dd: \Omega^0(U)\to \Omega^1(U)$.

下面我们要把Frobenius定理改写成余切矢量场的形式，这就变成了经典的Pfaff方程，正是当年关于Pfaff方程的研究，Cartran第一次提出了（高阶）外微分和微分形式的概念（我们现在只谈了一阶的情况），在他那里，1-形式之间的乘法被定义成反对称的。从前一节谈论Frobenius定理来看，Pfaff方程是一个关于积分曲面的问题，所以从这个角度来看，反对称的来由归根结底是为了积分。

\para 称一个1-形式$\omega$是完全可积的，如果存在两个光滑函数$f$和$g$使得$\omega=f\dd g$，此时$f$被称为$\omega$的积分因子。

1-形式的完全可积性联系着所谓的首次积分问题。设$f$是一个光滑函数且$\dd_p f$处处不为零，则$f(p)=a$（如果解存在）决定了$M$中的一个正则子流形$N_a$（有时候叫做一个曲面）。再设$X$是$M$内的光滑矢量场，则$\dd f(X)=0$恒成立当且仅当处处成立$X_p\in T_pN_{f(p)}$。

实际上，任取一点$p\in M$，只要检验$X_p(f)=0$即可，选一条$N_{f(p)}$上的一条光滑曲线$c$，使得$c(0)=p$且$c'(0)=X_p\in T_pN_{f(p)}$，由于$f(c(t))=f(p)$恒成立，对其在$t=0$处求导就得到了$\dd_pf(X_p)=X_p(f)=0$.反过来，如果在一点处$X_p\notin T_pN_{f(p)}$，则$X_p(f)\neq 0$。

固定$f$，将所有$\dd f(X)=0$的$X$拿出来，他组成一个$n-1$维的分布，$\{N_a\}$就是这个分布的一族积分流形，因为$X$在每一点都完全位于经过那一点的某个$N_a$的切空间内。我们称$N_a=\{p\in M:f(p)=a\}$是Paffa方程$\dd f=0$的解。从上面来看，一个Paffa方程要有解，那么解应该是一个积分曲面才是，即，Paffa方程$\omega=0$的解是使得$\omega(X)=0$的所有的$X$的积分曲面。

现在假设一个1-形式$\omega$是完全可积的，即他可以写作$\omega=f\dd g$，那么Paffa方程$\omega=0$等价于$\dd g=0$，这就确定了一个积分曲面。

\para 设$\omega$是一个1-形式，记分布$\ker \omega$是由满足$\omega(X)=0$的所有$X$张成的一个分布。记$\ker(\omega_1,\cdots,\omega_r)=\cap_{i=1}^r\ker \omega_i$.

% 则这个$\omega$完全可积当且仅当$\ker \omega$存在积分曲面。

\para 在局部，对任意一个分布$L$，存在一族余切矢量场$\{\omega_i:1\leq i \leq r\}$使得$L=\ker(\omega_1,\cdots,\omega_r)$.

实际上，一个分布在局部，和他在流形一点处（一个矢量空间内）是很相似的。设$L$是一个分布，由$r$个光滑的切矢量场$\{X_i:1\leq i \leq r\}$张成，则在局部，我们可以找到$n-r$个光滑矢量场$\{X_i:r+1\leq i \leq n\}$，使得$\{X_i:1\leq i \leq n\}$处处线线性无关。依然在局部，我们可以找到与其对偶\footnote{即满足$\omega_i(X_j)=\delta_{ij}$.}的1-形式$\{\omega_i:1\leq i \leq n\}$，那么那些使得$\omega(X)$对$X\in L$成立的1-形式局部由$\{\omega_i:r+1\leq i \leq n\}$张成。因此，局部上，一个分布$L$可以写作$L=\ker(\omega_{r+1},\cdots,\omega_n)$，等价地，可以写作一个Paffa方程组$\{\omega_i=0:r+1\leq i \leq n\}$.

因为局部存在积分曲面的充要条件是任取$X$, $Y\in D$满足$[X,Y]\in D$，所以如果$L=\ker(\omega_{r+1},\cdots,\omega_n)$存在积分曲面，应该有$\omega_i([X,Y])=0$。

\para 设$\omega=f\dd g$，其中$f$和$g$是光滑函数，则对一般的光滑矢量场$X$, $Y$成立。
\begin{equation}
\begin{split}
	\omega([X,Y])=f\dd g([X,Y])&=f [X,Y](g)\\
	&=fX(Y(g))-fY(X(g))\\
	&=X(fY(g))-X(f)Y(g)-Y(fX(g))+Y(f)X(g)\\
	&=X(\omega(Y))-Y(\omega(X))-\bigl(X(f)Y(g)-Y(f)X(g)\bigr).
\end{split}
\end{equation}

对于$X(f)Y(g)-Y(f)X(g)$，我们可以将其改写为$\dd f(X)\dd g(Y)-\dd g(X)\dd f(Y)$，因为这是关于$X$和$Y$的双线性函数，我们可以引入一个张量$\dd f\otimes \dd g$使得$\dd f\otimes \dd g(X,Y)=\dd f(X)\dd g(Y)$，则
\[
	\dd f(X)\dd g(Y)-\dd f(Y)\dd g(X)=\dd f\otimes \dd g(X,Y)-\dd g\otimes \dd f(X,Y)=(\dd f\otimes \dd g-\dd g\otimes \dd f)(X,Y).
\]
记$\dd f\wedge \dd g=\dd f\otimes \dd g-\dd g\otimes \dd f$，其中的$\wedge$被称为楔积，记$D(f\dd g)=\dd f\wedge \dd g$，则式(\theequation)变成了
\[
	D(f\dd g)(X,Y)=X(\omega(Y))-Y(\omega(X))-\omega([X,Y]).
\]
从式子右端来看，$\dd f\wedge \dd g(X,Y)$并不依赖于$\omega$的具体形式$\omega=f\dd g$。实际上，任意一个1-形式$\omega$可以写作$\omega=\sum_i f_i\dd g_i$，所以对于一般的情况，式(\theequation)应该写作
\[
	\sum_iD(f_i\dd g_i)(X,Y)=X(\omega(Y))-Y(\omega(X))-\omega([X,Y]).
\]
如果我们把$D$看做线性算子，则对于任意一个1-形式，我们都定义了一个线性算子，满足
\begin{equation}
	D(\omega)(X,Y)=X(\omega(Y))-Y(\omega(X))-\omega([X,Y]).
\end{equation}

\para 当然，我们也可以反过来通过式(\theequation)来定义$D(\omega)$，顺序在这里不是紧要的。紧要的是，$D(\omega)$决定了$\ker \omega$是否容许一个积分曲面。这是因为，如果$X$, $Y\in \ker \omega$，则式(\theequation)变成了
\[
	D(\omega)(X,Y)=-\omega([X,Y]),
\]
所以$D(\omega)(X,Y)=0$当且仅当$[X,Y]\in \ker \omega$.

这正是Cartan当年提出微分形式时候的处境，那时候，他从Frobenius和Darboux那里知道了，不同的Pfaff形式的等价条件就联系在一个bilinear covariant上面，而这个bilinear covariant就是我们这里的$D(\omega)$.

从这个角度来看，正因为有Frobenius定理，或者更本质一点，我们需要把积分曲线拼成积分曲面，我们需要考察两个矢量场$X$和$Y$的Lie括号$[X,Y]$，而这个Lie括号的反对称性来自于我们比较两条路径。现在，这种反对称性反应在了1-形式之间的楔积，使得他构成了一个（吃掉两个矢量场的）反对称函数。所以，从Cartan这里，反对称性的来源应该是为了处理积分曲面的存在性，而由$[X,Y]$自然诱导出来的。

\para 外代数的复习在附录，对于矢量空间$V$的$k$-次外代数记做$\Omega^k(V)$。在流形上的一点$p$处，记$\Omega_p^k=\Omega^k(T_pM)$，则$\Omega_p^1=T_p^*M$.类似切丛和余切丛，我们可以使用$\Omega_p^k$拼出一个$k$-形式丛$\Omega^k$。

\para 在$U$上的一个光滑$k$-形式被定义为$\Omega^k$在$U$上的一个光滑截面。所有$U$上的光滑$k$-形式的集合记做$\Gamma(\Omega^k,U)$.显然，$U$上的光滑函数可以看成一个光滑$0$-形式，一个光滑余切矢量场是一个光滑1-形式。如果$\omega$是一个光滑$1$-形式，则$D(\omega)$是一个光滑$2$-形式。下面我们所称的形式都是光滑的，我们将省略光滑二字。

\para 设分布$L$由$\{X_i:1\leq i \leq r\}$张成，且$L=\ker(\omega_{r+1},\cdots,\omega_n)$，如果$D(\omega)(X_i,X_j)=0$成立，则$D(\omega)$可以写作\[
	D(\omega)=\sum_{i=r+1}^n \psi_i\wedge \omega_i,
\]
其中$\psi_i$是一次微分式.

实际上，局部地$\{\omega_i:1\leq i\leq n\}$构成一组基，则
\[
	\dd \omega = \sum_{i=r+1}^n \psi_i\wedge w_i +\sum_{i,j=1}^r a_{ij}\omega_i\wedge \omega_j,
\]
其中$\psi_i$是一次微分式，而$a_{ij}$是光滑函数，且关于指标是反对称的。因为$\omega_i(X_j)=\delta_{ij}$，所以
\[
	0=\dd \omega(X_i,X_j)=\sum_{p,q=1}^r a_{pq}\omega_p\wedge \omega_q(X_i,X_j)=\sum_{p,q=1}^r a_{pq}(\delta_{ip}\delta_{jq}-\delta_{jp}\delta_{iq})=2a_{ij}.
\]

\para 设分布$L$由$\{X_i:1\leq i \leq r\}$张成，且$L=\ker(\omega_{r+1},\cdots,\omega_n)$，则$L$存在积分曲面当且仅当，
\[
	D(\omega_i)=\sum_{j=r+1}^n \psi_{ij}\wedge \omega_i
\]
对每一个$i$都成立。

\para 特别地，设分布$L=\ker(\omega)$，则局部积分曲面存在的充分必要条件是$D(\omega)=\psi\wedge \omega$，再或者$D(\omega)\wedge \omega=0$.则也就是$\omega$完全可积的充分必要条件。

\section{Exterior Derivative}

\para 函数$f$的支集$\supp(f)$被定义为$\{x\in M:f(x)\neq 0\}$的闭包。

\para 单位分解：设$\{U_\alpha\}_{\alpha\in I}$是$M$的一个开覆盖，如果存在可数个光滑函数$g_i\in \cal(M)$满足：

\no{1} 对于任意的$x\in M$和$i\in I$，都有$0\leq g_i(x)\leq 1$.

\no{2} 对每个$g_i$，都存在一个${\alpha_i}$使得$\supp(g_i)\subset U_{\alpha_i}$.

\no{3} 集族$\{\supp(g_i)\}$局部有限，即任取$p\in M$，存在$p$的邻域$U$使得$U$只和集族$\{\supp(g_i)\}$中的有限个集合相交非空。

\no{4} 因为上一个性质，所以在一点累加$g_i$时，只有有限项非零。我们最后的要求就是$\sum_i g_i=1$.

则称$\{g_i\}$是从属于开覆盖$\{U_\alpha\}_{\alpha\in I}$的一个单位分解。

\lem 流形$M$上的每一个开覆盖都存在从属于他的单位分解。

这个引理的证明可以参见任何一本微分流形的教材。

\para \label{unit} 设$V\subset U$，且$\bar{V}\subset U$，则$M-\bar{V}$和$U$构成$M$的一个开覆盖，我们可以找到$h$, $g\in \calf(M)$使得$h+g=1$处处成立，且$h|_{M-U}=0$以及$g|_{\bar{V}}=0$，因此$h|_{\bar{V}}=1$.

\para 可以计算得到$D(\dd f)=0$。实际上，从(\theequation )
\[
	D(\dd f)(X,Y)=X(Y(f))-Y(X(f))-[X,Y](f)=[X,Y](f)-[X,Y](f)=0,
\]
对任意的矢量场$X$, $Y$都成立。

\para 在很久很久以前，对$U$上的一个光滑函数$f$，我们定义了外微分$\dd$，使得$\dd f$是一个1-形式，而在上一节，我们对$U$上的一个1-形式$\omega$，定义了$D$使得$D(\omega)$是一个2-形式。更一般地，我们希望可以定义如下一个算符
\[
	\dd_k:\Gamma(\Omega^k,U)\to \Gamma(\Omega^{k+1},U),
\]
使得$\dd_0=\dd$，$\dd_1=D$。我们将$\{\dd_k\}$统称为外微分算符，统一记做$\dd$，他完成了一个$k$-形式到一个$(k+1)$-形式的转变。

所以，我们对于线性算符$\dd$，需要满足如下性质，

\no{1} 对于光滑函数$f$，$\dd f$就是我们前面定义的微分。

\no{2} 任取光滑函数$f$，$\dd^2 f=\dd (\dd f)=0$.

\no{3} 作为微分算符的Leibniz法则：设$\omega$是$r$-形式，则
\[
	\dd(\omega\wedge \eta)=\dd \omega \wedge \eta +(-1)^r \omega\wedge \dd\eta,
\]
其中$(-1)^r$的出现来自楔积的交换。

\para \label{localform}先假设$\dd$在$U$上是存在的。若$\omega$是$V\osub U$上的$k$-形式，设$W$是$U$的一个开子集且$V$真包含$\overline{W}$.那么正如\pararef{unit}说的，可以找一个单位分解$h$，使得$h|_{\overline{W}}=1$以及$h|_{U-W}=0$，利用他就可以定义一个$U$上的光滑$k$-形式$h\omega$（他在$V$外为零，在$W$内等同于$\omega|_W$）。

\para \label{regular}设$U$是流形$M$上的开集且$V\osub U$，则存在$V$的一个开覆盖$\{W_\alpha\}_{\alpha\in I}$使得对每个$\alpha$成立$\overline{W_\alpha}\subset V$.

实际上这就是分离公理之一，正则性。流形$M$是局部紧的Hausdorff空间，所以他是正则的。而对于正则空间内的每一个点$p$，已知邻域$V$，我们可以找到一个邻域$W_p\subset V$使得$\overline{W_p}\subset V$.然后遍历$p$，就找到了开覆盖$\{W_p\}_{p\in V}$.

\para \label{localpro}设$V\osub U$，如果$\omega|_V=0$，则$\dd \omega|_V=0$.

利用\pararef{regular}找一个$V$的开覆盖，我们只要证明对开覆盖中的一个开集$W$，$(\dd \omega)|_{W}=0$即可。同\pararef{localform}利用单位分解找一个光滑函数$h$，则$h\omega$在$U$上恒为零，所以
\[
	0=\dd (h\omega)=\dd h \wedge \omega +h\dd \omega
\]
限制在$W$上，$h|_{W}=1$且$\dd h|_{W}=0$，所以$\dd \omega|_{W}=0$. 

\pro 利用\pararef{localpro}，设$V\osub U$，如果$U$上存在外微分形式$\dd$，则他诱导出了$V$上的一个外微分形式$\dd_V$。并且，再设$W\osub W$，$\dd$在$W$上诱导的$\dd_W$和$\dd_V$在$W$诱导的$\dd_{VW}$是相同的。此外$\dd_V \omega|_W=\dd_W (\omega|_W)$对任意的$V$上的$k$-形式$\omega$成立。

\proof 和上面的想法差不多，利用\pararef{regular}，我们可以找一个开覆盖。然后在每个开覆盖中的开集$W$上，同\pararef{localform}利用单位分解找一个光滑函数$h_W$，使得$h_W\omega$成为$U$上的光滑$k$-形式，定义$\dd_V \omega|_{W}=\dd (h_W\omega)|_{W}$.

设$W'$是开覆盖中的另外的开集，且$W\cap W'\neq \varnothing$。由于$h_W\omega|_{W\cap W'}=h_{W'}\omega|_{W\cap W'}$，因为\pararef{localpro}，则
\[
	\dd (h_W\omega)|_{W\cap W'}=\dd (h_{W'}\omega)|_{W\cap W'},
\]
所以
\[
	(\dd_V \omega|_{W})|_{W\cap W'}=(\dd_V \omega|_{W'})|_{W\cap W'}
\]
保证了$\dd_V \omega|_{W}$在相交的开集上是相同的，这就使得我们可以黏结$\dd_V \omega|_W$定义出一个$V$上的$(k+1)$-形式$\dd_V \omega$. 容易检验$\dd_V$满足所有外微分的性质。至于$\dd_W=\dd_{VW}$，从构造来看，这是显然的。

最后我们来检验等式$\dd_V \omega|_W=\dd_W (\omega|_W)$，对$W$利用\pararef{regular}找个开覆盖，在每一个开集$X$上，把上式左边限制到$X$上即$\dd_V \omega|_X=\dd(h_X\omega)$，同样，右边限制到$X$上即$\dd_W (\omega|_W)|_X=\dd(h_X\omega|_W)=\dd(h_X\omega)$，所以等式成立。\qed

\para 设$W\subset V$是$U$中的开集，以及$\rho^k_{VW}$和$\rho^{k+1}_{VW}$分别是$k$-形式和$(k+1)$-形式的限制映射。设$\omega$是$V$上的任意$k$-形式，由于$\rho^{k+1}_{VW}\circ \dd_V (\omega)=\dd_V \omega|_W=\dd_W (\omega|_W)=\dd_W \circ \rho^k_{VW}(\omega)$，所以我们有
\[
\dd_W\circ \rho^k_{VW}=\rho^{k+1}_{VW}\circ \dd_V.	
\]
换句话说，$\dd$诱导了预层$U\mapsto \Gamma(\Omega^k,U)$和预层$U\mapsto \Gamma(\Omega^{k+1},U)$间的自然变换（或者叫做函子间的态射）。

\para 容易证明，以$p$的邻域$W$赋予包含而成的归纳系，
\[\Omega_p^k=\varinjlim_{W\ni p}\Gamma(\Omega^k,W),\quad \Omega_p^{k+1}=\varinjlim_{W\ni p}\Gamma(\Omega^{k+1},W),\]以及有到点上的限制映射$\rho^k_{Wp}$和$\rho^{k+1}_{Wp}$。则colimt的泛性质，如下交换图，告诉我们$\dd_p:\Omega_p^k\to \Omega_p^{k+1}$存在。
\[
	\xymatrix{
	&&\ar[dl]^{\rho^k_{Vp}}\Gamma(\Omega^k,V)\ar[dd]^{\rho^k_{VW}}\ar@/_/[lld]_{\rho^{k+1}_{Vp}\circ \dd_V} \\
	\Omega_p^{k+1}&\ar@{-->}[l]_(0.4){\dd_p}\Omega_p^{k}&\\
	&&\ar[ul]_{\rho^k_{Wp}}\Gamma(\Omega^k,W)\ar@/^/[llu]^{\rho^{k+1}_{Wp}\circ \dd_W}
	}
\]

\pro 这样的映射$\dd$存在且唯一。

有了上面这些表述，我们只要在局部证明其唯一存在即可，然后把他拼起来。

\section{Integration}

\para 对于$p\geq 0$，以及$\rr^{p+1}$中的$p+1$个矢量$\{v_i:0\leq i\leq p\}$满足$\{v_i-v_0:1\leq i\leq p\}$是一个线性无关组，我们定义仿射$p$-单形为
\[
	\Delta^p=\left\{\sum_{i=0}^p a_iv_i\in \rr^{p+1}:\sum_{i=1}^p a_i=1,\text{and each } a_i\leq 0\right\},
\]
而流形$M$上的一个（光滑）$p$-单形是指一个（光滑）映射$\sigma:\Delta^p\to M$。

一个标准0-单形是一个点$1$，一个标准1-单形是一个线段$(t,1-t)$，端点为$(0,1)$和$(1,0)$，一个标准2-单形是一个三角形$(s,t,1-s-t)$，他的三个顶点位于$(0,0,1)$, $(0,1,0)$和$(1,0,0)$。记$M$上全部$p$-单形生成的自由Abel群为$C_p(M)$。

\para 一个标准$p$-单形的某个$(p-1)$-边界是指某个$a_i=0$的情况，一个$(p-1)$边界是自然的$(p-1)$-单形。一个p-单形$\sigma$的某个$(p-1)$-边界是指某个$a_i=0$的情况。

\chapter{Appendix: Exterior Algebra}

\para 这里复习一下外代数的内容。设$V$是一个$n$维矢量空间，记$\Omega^k(V)$为所有反对称线性函数
\[
	f:\underbrace{V\times\cdots\times V}_{k\text{个}}\to \rr
\]
的集合。这个集合有一个显然的线性结构。此外再约定$\Omega^1(V)=V^*$和$\Omega^0(V)=\rr$.我们将$\Omega^k(V)$称为$V$的$k$-次外代数。

\para 	设$\xi \in \Omega^m(V)$和$\eta \in \Omega^n(V)$，定义$\xi$和$\eta$的外积$\xi \wedge \eta \in \Omega^{m+n}(V)$为
	\[
		\xi \wedge \eta=\frac{1}{m!n!}\sum_{\sigma\in S^{m+n}}(-1)^{\mathrm{sign}(\sigma)}\sigma (\xi \otimes \eta).
	\]
	其中$\sigma$属于$m+n$阶置换群且$\sigma (\xi \otimes \eta)$被定义为
	\[
		\sigma (\xi \otimes \eta)(v_1,\dots,v_{m+n})=(\xi \otimes \eta)(v_{\sigma(1)},\dots,v_{\sigma(m+n)}).
	\]
	而$\xi \otimes \eta$（称为张量积）被定义为双线性的运算
	\[
		\xi \otimes \eta(v_1,\dots,v_m,v_{m+1},\dots,v_{m+n})
		=\xi(v_1,\dots,v_m)\eta(v_{m+1},\dots,v_{m+n}).
	\]
	容易验证张量积满足结合律。

\pro 设$\xi$, $\xi_1$, $\xi_2 \in \Omega^m(V)$和$\eta$, $\eta_1$, $\eta_2\in \Omega^n(V)$还有一个$\zeta\in \Omega^h(V)$，有

	\no{1}分配律：
	\[
		\begin{split}
			(\xi_1+\xi_2)\wedge \eta&=\xi_1 \wedge \eta+\xi_2 \wedge \eta, \\
			\xi \wedge (\eta_1+\eta_2)&=\xi \wedge \eta_1+\xi \wedge \eta_2.
		\end{split}
	\]

	\no{2}反变换律：$\xi \wedge \eta=(-1)^{mn}\eta \wedge \xi$.

	\no{3}结合律：$(\xi \wedge \eta)\wedge \zeta=\xi \wedge (\eta\wedge \zeta)$.

\proof \no{1} 由$\sigma$线性和张量积线性显然。

	\no{2} 设置换
	\[
		\tau=
		\begin{pmatrix}
			1& \cdots & m & m+1 &\cdots &m+n\\
			1+n& \cdots & m+n & 1 &\cdots &n
		\end{pmatrix},
	\]
	容易证明$(-1)^{\mathrm{sign}(\tau)}=(-1)^{mn}$.

	由线性性，我们只要对一个分量证明就可以了。按基打开直接写出
	\[
		\begin{split}
			\xi \wedge \eta&=\frac{\xi^{i_1\dots i_m}\eta^{j_1 \dots j_n}}{m!n!}\sum_{\sigma\in S^{m+n}}(-1)^{\mathrm{sign}(\sigma)}\sigma(v_{i_1}\otimes \cdots \otimes v_{i_m}\otimes v_{j_1}\otimes \cdots \otimes v_{j_n})\\
			\eta \wedge \xi&=\frac{\xi^{i_1\dots i_m}\eta^{j_1 \dots j_n}}{m!n!}\sum_{\sigma\in S^{m+n}}(-1)^{\mathrm{sign}(\sigma)}\sigma(v_{j_1}\otimes \cdots \otimes v_{j_n}\otimes v_{i_1}\otimes \cdots \otimes v_{i_m})
		\end{split}
	\]
	注意到$\sigma$跑遍所有置换，那么$\sigma$和$\tau$的复合$\sigma'=\sigma\circ\tau$也跑遍所有置换，且$(-1)^{\mathrm{sign}(\sigma')}=(-1)^{\mathrm{sign}(\sigma)}(-1)^{\mathrm{sign}(\tau)}$，所以
	\[
		\begin{split}
			\eta \wedge \xi&=\frac{\xi^{i_1\cdots i_m}\eta^{j_1 \cdots j_n}}{m!n!}\sum_{\sigma'\in S^{m+n}}(-1)^{\mathrm{sign}(\sigma')}\sigma'(v_{j_1}\otimes \cdots \otimes v_{j_n}\otimes v_{i_1}\otimes \cdots \otimes v_{i_m})\\
			&=\frac{\xi^{i_1\cdots i_m}\eta^{j_1 \cdots j_n}}{m!n!}\sum_{\sigma\in S^{m+n}}(-1)^{\mathrm{sign}(\sigma)}(-1)^{\mathrm{sign}(\tau)}\sigma(v_{i_1}\otimes \cdots \otimes v_{i_m}\otimes v_{j_1}\otimes \cdots \otimes v_{j_n})\\
			&=(-1)^{\mathrm{sign}(\tau)}\frac{\xi^{i_1\cdots i_m}\eta^{j_1 \cdots j_n}}{m!n!}\sum_{\sigma\in S^{m+n}}(-1)^{\mathrm{sign}(\sigma)}\sigma(v_{i_1}\otimes \cdots \otimes v_{i_m}\otimes v_{j_1}\otimes \cdots \otimes v_{j_n})\\
			&=(-1)^{\mathrm{sign}(\tau)} \xi \wedge \eta.
		\end{split}
	\]
	代入$(-1)^{\mathrm{sign}(\tau)}=(-1)^{mn}$即得证\no{2}.

	第三个性质，也就是结合律的证明就是死算，略去计算最后得到：
	\[
		(\xi \wedge \eta) \wedge \zeta=\frac{1}{m!n!h!}\sum_{\sigma\in S^{m+n+h}}(-1)^{\mathrm{sign}(\sigma)}\sigma(\xi \otimes \eta \otimes \zeta)=\xi \wedge (\eta \wedge \zeta).
	\]
	\qed

\para 留意$v,w\in \Omega^1(V)=V^*$的外积$v\wedge w$是有趣的。首先，显然地，$\omega\wedge\omega=0$。然后容易证明对$a,b\in V$
\[
	v\wedge w(a,b)=v(a)w(b)- w(a)v(b)=\begin{vmatrix}v(a)&v(b)\\w(a)&w(b)\end{vmatrix}.
\]
对于多个$\omega_i \in \Omega^1(V)$的外积，我们可以用归纳法证明
\[
	\omega_1\wedge \cdots \wedge\omega_p(v_1,\dots,v_p)=
	\begin{vmatrix}
		\omega_1(v_1)&\cdots&\omega_p(v_p)\\
		\vdots&\ddots&\vdots\\
		\omega_p(v_1)&\cdots&\omega_p(v_p)
	\end{vmatrix}.
\]

\para 还有一个很类似的结论，对于多个$\omega_i \in \Omega^1(V)$的外积来说我们有$\omega_i \wedge \omega_j=-\omega_j \wedge \omega_i$，而且是线性的。我们考虑$p$个$\omega_i \in \Omega^1(V)$之间的外积$F(\omega_1, \dots,\omega_n)=\omega_1\wedge \cdots \wedge \omega_p$，
如果矢量空间$V^*$的基是$\{v_i\}$，由于$F$是反对称线性映射，我们有熟知的分解：
\[
	F(\omega_1, \dots,\omega_p)=\det(\omega_1, \dots,\omega_p)F(v_1, \dots,v_p),
\]
或者写作
\[
	\omega_1\wedge \cdots \wedge \omega_p=
	\begin{vmatrix}
		\omega_{11}&\cdots&\omega_{p1}\\
		\vdots&\ddots&\vdots\\
		\omega_{1p}&\cdots&\omega_{pp}
	\end{vmatrix}
	v_1\wedge \cdots \wedge v_p.
\]
其中$\omega_{ij}$值的是$\omega_i$在$v_j$方向的分量值。从这里可以看到，若$\omega_i$们线性相关的，则$\omega_1\wedge \cdots \wedge \omega_p=0$.若$V^*$的维度是$n$，而$p>n$，则$\omega_i$必然线性相关，则$\omega_1\wedge \cdots \wedge \omega_p=0$.

\para 特别地，如果$\omega'=\dd x'$和$\eta'=\dd y'$，且$x'$和$y'$可以看做$x$和$y$的函数，而
\[
	\dd x'=\partial_x x' \dd x+\partial_y x' \dd y,\quad \dd y'=\partial_x y' \dd x+\partial_y y' \dd y,
\]
因此
\[
	\dd x'\wedge \dd y'=\det\left(\frac{\partial(x',y')}{\partial (x,y)}\right)\dd x\wedge \dd y,
\]
其中$\partial(x',y')/\partial (x,y)$是$(x',y')$关于$(x,y)$的Jacobian. 如果还记得积分学的一些基本事实，会发现这就是和重积分变量替换公式是如此的相似。实际上，对于二个变量的重积分变换公式，他写作
\[
	\int_S\dd x' \dd y'=\int_S\left|\det\left(\frac{\partial(x',y')}{\partial (x,y)}\right)\right|\dd x \dd y,
\]
其中绝对值的引入是因为换变量可能会改变积分区域的定向。

所以，从这个角度来看，正如我们对于$\dd x$是无穷小距离的直观一样，我们可以认为$\dd x\wedge \dd y$是无穷小面积。

\para 设$\{e^i:1\leq i \leq n\}$是$V^*$的一组基，则$\{e^{i_1}\wedge \cdots \wedge e^{i_k}\}$是$\Omega^k(V)$的一组基。于是当$k>n$时$\Omega^k(V)=0$，当$0\leq k \leq n$时，$\dim \Omega^k(V)=\tbinom nk$.

\lem （Cartan引理）设$\{v_i:1\leq i \leq r\}$和$\{w_i:1\leq i \leq r\}$是$V^*$中的两组矢量，且$\sum_{i=1}^rv_i\wedge w_i=0$。如果$\{v_i\}$线性无关，则每个$w_i$可以由$\{v_i\}$线性组合而成$w_i=\sum_{i=1}^r\alpha_{ij}v_j$，且$\alpha_{ij}=\alpha_{ji}$.

\proof
	将$\{v_i\}$扩充为一组基，则$w_i=\sum_{i=1}^r\alpha_{ij}v_j$，将其代入条件$\sum_{i=1}^rv_i\wedge w_i=0$有
	\[
		0=\sum_{j=1}^n\sum_{i=1}^r \alpha_{ij}v_i \wedge v_j=\sum_{1\leq i < j \leq n}(\alpha_{ij}-\alpha_{ji}) v_i \wedge v_j+\sum_{j=r+1}^n\sum_{i=1}^r \alpha_{ij}v_i \wedge v_j,
	\]
	由于$v_i \wedge v_j$是$\Omega^2(V)$的一组基，所以$\alpha_{ij}=0$当$j>r$，且$\alpha_{ij}=\alpha_{ji}$当$j\leq r$.\qed

% \lem 设$\{v_i:1\leq i \leq r\}$是$V^*$中的一族线性无关的矢量，设$w$是一个$V$上的$p$-形式，则存在$\{\psi_i\in \Omega^{k-1}(V):1\leq i \leq r\}$使得$w=\sum_{i=1}^rv_j\wedge \psi_i$，当且仅当$v_1\wedge\cdots\wedge v_r\wedge w=0$.
\end{document}